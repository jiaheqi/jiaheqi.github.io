<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Android apk ç­¾å</title>
    <url>/2025/01/02/Android-apk%E7%AD%BE%E5%90%8D/</url>
    <content><![CDATA[<h2 id="æŸ¥çœ‹apkç­¾å"><a href="#æŸ¥çœ‹apkç­¾å" class="headerlink" title="æŸ¥çœ‹apkç­¾å"></a>æŸ¥çœ‹apkç­¾å</h2><blockquote>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a class="link"   href="https://developers.google.com/android/guides/client-auth?hl=zh-cn" >https://developers.google.com/android/guides/client-auth?hl=zh-cn<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ–¹å¼ä¸€</span></span><br><span class="line">keytool -printcert -jarfile /Users/topjoy/Desktop/zeusbuild.apk</span><br><span class="line"><span class="comment"># æ–¹å¼äºŒ</span></span><br><span class="line">jarsigner -verify -verbose -certs app-release.apk </span><br></pre></td></tr></table></figure></div>

<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-02-18-29-27.png"
                      alt="001"
                ></p>
<p>firebaseåå°ï¼š<a class="link"   href="https://console.firebase.google.com/u/1/project/dao-project-380602/settings/general/android:com.topjoy.sdk_demo?hl=zh-cn" >https://console.firebase.google.com/u/1/project/dao-project-380602/settings/general/android:com.topjoy.sdk_demo?hl=zh-cn<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-02-18-30-20.png"
                      alt="002"
                ></p>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><ol>
<li><p>åŒä¸€ä¸ªåŒ…åï¼Œä½¿ç”¨ä¸åŒçš„ç­¾åkeystoreï¼Œæœ€ç»ˆæ‰“å‡ºçš„åŒ…ç­¾åæ˜¯ä¸ä¸€è‡´çš„</p>
</li>
<li><p>å¦‚æœæ‰“å‡ºçš„åŒ…ç­¾åSHA-1 SHA-256åœ¨firebaseåå°æœªé…ç½®ï¼Œé‚£ä¹ˆè°·æ­Œç›¸å…³èƒ½åŠ›åˆ™æ— æ³•ä½¿ç”¨ï¼Œæ¯”å¦‚è°·æ­Œç™»å½•ä¼šå¤±è´¥ï¼Œè¿”å›é”™è¯¯ç 10<br>  è§£å†³2çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªåŒ…åï¼Œæˆ–è€…æŠŠæ‰“å‡ºçš„åŒ…ç­¾åæ·»åŠ åˆ°firabseåå°</p>
</li>
<li><p>android studioé…ç½®ç­¾åkeystore<br> åœ¨gradleæ–‡ä»¶æ·»åŠ é…ç½®</p>
 <div class="code-container" data-rel="Gradle"><figure class="iseeu highlight gradle"><table><tr><td class="code"><pre><span class="line">    signingConfigs &#123;</span><br><span class="line">    config &#123;<span class="comment">//è°·æ­Œæ”¯ä»˜ä½¿ç”¨çš„jks</span></span><br><span class="line">        storeFile <span class="keyword">file</span>(<span class="string">&#x27;mujianchen.jsk&#x27;</span>)</span><br><span class="line">        keyAlias <span class="string">&#x27;mujianchen&#x27;</span></span><br><span class="line">        keyPassword <span class="string">&#x27;mu123456&#x27;</span></span><br><span class="line">        storePassword <span class="string">&#x27;mu123456&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ylconfig &#123;<span class="comment">//å¯ä»¥ç”¨æ¥æµ‹è¯•çš„ç­¾å</span></span><br><span class="line">        storeFile <span class="keyword">file</span>(<span class="string">&#x27;youle.jks&#x27;</span>)</span><br><span class="line">        keyAlias <span class="string">&#x27;youle&#x27;</span></span><br><span class="line">        keyPassword <span class="string">&#x27;yl123456&#x27;</span></span><br><span class="line">        storePassword <span class="string">&#x27;yl123456&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>unityé…ç½®ç­¾åï¼šåœ¨player-settingsä¸­<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-02-18-30-40.png"
                      alt="003"
                ></p>
</li>
</ol>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>c# ä¸­ method new å’Œ overide çš„å·®å¼‚</title>
    <url>/2025/01/03/c-%E4%B8%AD-method-new-%E5%92%8C-overide-%E7%9A%84%E5%B7%AE%E5%BC%82/</url>
    <content><![CDATA[<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-12-55-10.png"
                      alt="001"
                ></p>
<h2 id="newä½¿ç”¨"><a href="#newä½¿ç”¨" class="headerlink" title="newä½¿ç”¨"></a>newä½¿ç”¨</h2><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Message from BaseClass&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DerivedClass</span> : <span class="title">BaseClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ new éšè—åŸºç±»ä¸­çš„ ShowMessage æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">new</span> <span class="keyword">void</span> <span class="title">ShowMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Message from DerivedClass&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        BaseClass baseObj = <span class="keyword">new</span> BaseClass();</span><br><span class="line">        baseObj.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from BaseClass</span></span><br><span class="line">        </span><br><span class="line">        DerivedClass derivedObj = <span class="keyword">new</span> DerivedClass();</span><br><span class="line">        derivedObj.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from DerivedClass</span></span><br><span class="line">        </span><br><span class="line">        BaseClass baseRef = <span class="keyword">new</span> DerivedClass();</span><br><span class="line">        baseRef.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from BaseClassï¼ˆåŸºç±»æ–¹æ³•è¢«è°ƒç”¨ï¼Œå› ä¸ºå®ƒä½¿ç”¨åŸºç±»å¼•ç”¨ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h2 id="overideä½¿ç”¨"><a href="#overideä½¿ç”¨" class="headerlink" title="overideä½¿ç”¨"></a>overideä½¿ç”¨</h2><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">ShowMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Message from BaseClass&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DerivedClass</span> : <span class="title">BaseClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ override é‡å†™åŸºç±»çš„ ShowMessage æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ShowMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Message from DerivedClass&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        BaseClass baseObj = <span class="keyword">new</span> BaseClass();</span><br><span class="line">        baseObj.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from BaseClass</span></span><br><span class="line">        </span><br><span class="line">        DerivedClass derivedObj = <span class="keyword">new</span> DerivedClass();</span><br><span class="line">        derivedObj.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from DerivedClass</span></span><br><span class="line">        </span><br><span class="line">        BaseClass baseRef = <span class="keyword">new</span> DerivedClass();</span><br><span class="line">        baseRef.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from DerivedClassï¼ˆè°ƒç”¨æ´¾ç”Ÿç±»çš„æ–¹æ³•ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>c#</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/12/31/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a class="link"   href="https://hexo.io/" >Hexo<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>! This is your very first post. Check <a class="link"   href="https://hexo.io/docs/" >documentation<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> for more info. If you get any problems when using Hexo, you can find the answer in <a class="link"   href="https://hexo.io/docs/troubleshooting.html" >troubleshooting<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> or you can ask me on <a class="link"   href="https://github.com/hexojs/hexo/issues" >GitHub<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/writing.html" >Writing<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/server.html" >Server<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo generate or hexo g</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/generating.html" >Generating<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo deploy or hexo d</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/one-command-deployment.html" >Deployment<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</title>
    <url>/2024/12/31/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Android apkåç¼–è¯‘ä¸ç¯¡æ”¹</title>
    <url>/2025/01/03/Android-apk%E5%8F%8D%E7%BC%96%E8%AF%91%E4%B8%8E%E7%AF%A1%E6%94%B9/</url>
    <content><![CDATA[<h2 id="jadx-guiåç¼–è¯‘"><a href="#jadx-guiåç¼–è¯‘" class="headerlink" title="jadx guiåç¼–è¯‘"></a>jadx guiåç¼–è¯‘</h2><h3 id="å®‰è£…ä¸å¯åŠ¨"><a href="#å®‰è£…ä¸å¯åŠ¨" class="headerlink" title="å®‰è£…ä¸å¯åŠ¨"></a>å®‰è£…ä¸å¯åŠ¨</h3><blockquote>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a class="link"   href="https://blog.csdn.net/qq_38393270/article/details/132046040" >https://blog.csdn.net/qq_38393270/article/details/132046040<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<p>å®‰è£…</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">brew install jadx</span><br></pre></td></tr></table></figure></div>

<p>å¯åŠ¨</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">jadx-gui</span><br></pre></td></tr></table></figure></div>

<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>ç›´æ¥æŠŠapkæ‹–è¿›å»æ‰“å¼€å°±okäº†ï¼Œç„¶åå¯ä»¥æ ¹æ®å…³é”®è¯æœç´¢ã€‚</p>
<p><a href="images/mdimages/2025-01-03-18-23-57.png">2025-01-03-18-23-57.png</a></p>
<h2 id="apktoolåç¼–è¯‘å’Œç¼–è¯‘"><a href="#apktoolåç¼–è¯‘å’Œç¼–è¯‘" class="headerlink" title="apktoolåç¼–è¯‘å’Œç¼–è¯‘"></a>apktoolåç¼–è¯‘å’Œç¼–è¯‘</h2><blockquote>
<p>å‚è€ƒæ–‡æ¡£<br><a class="link"   href="https://blog.csdn.net/greatsam/article/details/137049910" >https://blog.csdn.net/greatsam/article/details/137049910<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   href="https://www.cnblogs.com/andy0816/p/15174370.html" >https://www.cnblogs.com/andy0816/p/15174370.html<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   href="https://developer.android.com/tools/apksigner?hl=zh-cn#options-sign" >https://developer.android.com/tools/apksigner?hl=zh-cn#options-sign<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h3 id="åç¼–è¯‘"><a href="#åç¼–è¯‘" class="headerlink" title="åç¼–è¯‘"></a>åç¼–è¯‘</h3><p>æ‰€æœ‰çš„javaæ–‡ä»¶éƒ½æ˜¯ä»¥smaliçš„å½¢å¼åç¼–è¯‘å‡ºæ¥çš„ï¼Œä¿®æ”¹smaliå…¶ä¸­çš„ä»£ç å³å¯<br>å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº†tsçš„ä»£ç ï¼Œé‚£ä¹ˆç¼–è¯‘ä¹‹åä¼šå­˜åœ¨jsæ–‡ä»¶ä¸­</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">apktool d app-china-debug.apk -o zeusdemo</span><br></pre></td></tr></table></figure></div>

<p><a href="images/mdimages/2025-01-03-18-25-42.png">2025-01-03-18-25-42.png</a><br><a href="images/mdimages/2025-01-03-18-25-52.png">2025-01-03-18-25-52.png</a></p>
<h3 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">apktool b zeusdemo -o zeusdemonew.apk</span><br></pre></td></tr></table></figure></div>

<h2 id="apksignerç­¾å"><a href="#apksignerç­¾å" class="headerlink" title="apksignerç­¾å"></a>apksignerç­¾å</h2><blockquote>
<p>å¦‚æœä¸ç­¾åï¼Œå¯¼å‡ºçš„ apk æ— æ³•å®‰è£…; apksigner æ˜¯å®‰è£… Android SDK é»˜è®¤åŒ…å«çš„ tool</p>
</blockquote>
<ol>
<li>æ‰¾åˆ° SDK ç›®å½•ä½ç½®ï¼Œä»è€Œæ‰¾åˆ° apksigner çš„ä½ç½®<br><a href="images/mdimages/2025-01-03-18-27-25.png">2025-01-03-18-27-25.png</a></li>
<li>å¯¹ä¿®æ”¹å®Œä»£ç çš„ apk è¿›è¡Œç­¾å</li>
</ol>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">./apksigner sign --ks /Users/topjoy/tools/apktool/jiaheqi.jks  --out /Users/topjoy/tools/apktool/signedzeusdemo.apk /Users/topjoy/tools/apktool/zeusdemonew.apk</span><br></pre></td></tr></table></figure></div>

<p>å¦‚æœæ²¡æœ‰ jks ç­¾åæ–‡ä»¶éœ€è¦ç”Ÿæˆä¸€ä¸ªï¼Œç”Ÿæˆçš„æ—¶å€™å¯ä»¥å€ŸåŠ© Android Studio ç”Ÿæˆï¼ˆä¹Ÿå¯ä»¥é€šè¿‡ apksigner çš„å‘½ä»¤ç”Ÿæˆï¼‰<br>æ‰“å¼€ Build-Generate Signed App Bundle or APK-é€‰æ‹© APK-Next-Create newï¼Œå¯ä»¥åˆ›å»ºæ–°çš„ç­¾åæ–‡ä»¶<br><a href="images/mdimages/2025-01-03-18-28-43.png">2025-01-03-18-28-43.png</a><br><a href="images/mdimages/2025-01-03-18-28-49.png">2025-01-03-18-28-49.png</a><br>3. ç­¾ååçš„ APK å®‰è£…åå¯ä»¥æ­£å¸¸è¿è¡Œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯¹å¯¹ç¢°æ¸¸æˆæ¦‚ç‡è®¡ç®—</title>
    <url>/2025/01/03/%E5%AF%B9%E5%AF%B9%E7%A2%B0%E6%B8%B8%E6%88%8F%E6%A6%82%E7%8E%87%E8%AE%A1%E7%AE%97/</url>
    <content><![CDATA[<h2 id="ğŸ®æ¸¸æˆè§„åˆ™"><a href="#ğŸ®æ¸¸æˆè§„åˆ™" class="headerlink" title="ğŸ®æ¸¸æˆè§„åˆ™"></a>ğŸ®æ¸¸æˆè§„åˆ™</h2><ol>
<li>ç‰Œå †åŒ…å« 1-9 æ¯ä¸ªæ•°å­— 5 å¼ ï¼Œä»¥åŠä¸€å¼  luck è¿æ°”ç‰Œï¼Œæ€»å…± 46 å¼ ç‰Œï¼›</li>
<li>æ¸¸æˆå¼€å§‹ï¼Œé€‰æ‹©ä¸€ä¸ªè®¸æ„¿æ•°å­—ï¼Œåˆå§‹åŒ–æ¸¸æˆåŒºä»ç‰Œå †éšæœºæŠ½å– 9 å¼ ç‰Œï¼ŒæŠ½èµ°åï¼Œç‰Œå †éœ€è¦å»é™¤è¿™9å¼ ç‰Œï¼›</li>
<li>æ¸¸æˆåŒºæ¯æ¬¡åŒ¹é…2å¼ ç›¸åŒæ•°å­—çš„ç‰Œï¼Œå¾— 1 åˆ†ï¼Œç§»é™¤åŒ¹é…ç‰Œå¹¶ä»ç‰Œå †æŠ½å–è¡¥å…… 1 å¼ æ–°ç‰Œï¼Œéšæœºè¡¥å……çš„ç‰Œæ˜¯å¯èƒ½å’Œæ¸¸æˆåŒºçš„æ•°å­—ç›¸åŒçš„ï¼›</li>
<li>å¦‚æœæ¸¸æˆåŒºå‡ºç°luckè¿æ°”ç‰Œåˆ™ä»ç‰Œå †æŠ½å–è¡¥å…… 3 å¼ æ–°ç‰Œï¼Œè¡¥å……çš„3å¼ ç‰Œä¹‹é—´å¯èƒ½ç›¸åŒï¼Œä¹Ÿå¯èƒ½ä¸åŒï¼Œè¡¥å……çš„3å¼ ç‰Œæ˜¯å¯èƒ½å’Œæ¸¸æˆåŒºçš„æ•°å­—ç›¸åŒçš„ï¼›</li>
<li>å¦‚æœæ¸¸æˆåŒºå‡ºç°è®¸æ„¿æ•°å­—ï¼ŒåŒ¹é…2å¼ è¯¥è®¸æ„¿æ•°å­—çš„ç‰Œåï¼Œä¸ä»…è¡¥å…… 1 å¼ ç‰Œï¼Œè¿˜è¦ä»ç‰Œå †æŠ½å–è¡¥å…… 2 å¼ é¢å¤–çš„ç‰Œï¼Œæ€»å…±ä»ç‰Œå †æŠ½å–è¡¥å…… 3 å¼ ï¼›</li>
<li>å¦‚æœæœ€ç»ˆå¾—åˆ†å¤§äºç­‰äº5ï¼Œé‚£ä¹ˆå†ä»ç‰Œå †æŠ½å–1å¼ ï¼Œå¦‚æœå‡ºç°åŒ¹é…2å¼ ç›¸åŒæ•°å­—çš„ç‰Œï¼Œåˆ™é‡å¤ä¸Šè¿°æ“ä½œï¼Œç„¶åå†è®¡ç®—æœ€ç»ˆå¾—åˆ†ï¼›</li>
<li>è®°å½•æ¯æ¬¡æ¨¡æ‹Ÿå¾—åˆ°æœ€é«˜å¾—åˆ†ï¼Œå¹¶è®°å½•å¾—åˆ°æœ€é«˜å¾—åˆ†æ—¶çš„åŒ¹é…å’Œè¡¥å……ç‰Œçš„è¯¦æƒ…ï¼›</li>
<li>æ¯æ¬¡æ¨¡æ‹Ÿæ¬¡æ•°1wæ¬¡ï¼›</li>
<li>æœ€åç»Ÿè®¡æ¯ä¸ªåˆ†å€¼å‡ºç°æ¬¡æ•°ï¼Œå¹¶ç”Ÿæˆæ­£æ€åˆ†å¸ƒå›¾ã€‚</li>
</ol>
<h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h2><div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–ç‰Œå †ï¼šåŒ…å«1-9æ¯ä¸ªæ•°å­—5å¼ ï¼Œä»¥åŠ1å¼ luckè¿æ°”ç‰Œ</span></span><br><span class="line">deck = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)] + [<span class="string">&#x27;luck&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(deck)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§„åˆ™å‚æ•°</span></span><br><span class="line">initial_game_zone_size = <span class="number">9</span>  <span class="comment"># åˆå§‹æ¸¸æˆåŒºçš„ç‰Œæ•°</span></span><br><span class="line">max_card_count = <span class="number">5</span>  <span class="comment"># æ¯ä¸ªæ•°å­—å‡ºç°çš„æœ€å¤§æ¬¡æ•°</span></span><br><span class="line">max_luck_count = <span class="number">1</span>  <span class="comment"># è¿æ°”ç‰Œæœ€å¤§å‡ºç°æ¬¡æ•°</span></span><br><span class="line">max_total_cards = <span class="number">46</span>  <span class="comment"># æ€»ç‰Œæ•°ä¸Šé™</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸¸æˆåŒºçš„åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">draw_initial_game_zone</span>():</span><br><span class="line">    <span class="built_in">print</span>(random.sample(deck, initial_game_zone_size))</span><br><span class="line">    <span class="keyword">return</span> random.sample(deck, initial_game_zone_size)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»ç‰Œå †ä¸­éšæœºæŠ½å–ç‰Œ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">draw_from_deck</span>(<span class="params">deck, total_counter</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> deck:  <span class="comment"># æ£€æŸ¥ç‰Œå †æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&quot;ç‰Œå †å·²ç©ºï¼Œæ— æ³•ç»§ç»­æŠ½ç‰Œï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¿å…è¿åè§„åˆ™ï¼šæ£€æŸ¥æ¯ä¸ªæ•°å­—å’Œè¿æ°”ç‰Œçš„æ•°é‡</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        card = random.choice(deck)  <span class="comment"># é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä¸åšåˆ é™¤</span></span><br><span class="line">        total_counter.update([card])</span><br><span class="line">        <span class="comment"># ç»Ÿè®¡æ¸¸æˆåŒºä¸­æ¯ä¸ªå¡ç‰Œçš„æ•°é‡</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(card, <span class="built_in">int</span>) <span class="keyword">and</span> total_counter[card] &gt; max_card_count:</span><br><span class="line">            <span class="keyword">continue</span>  <span class="comment"># å¦‚æœè¯¥æ•°å­—çš„å‡ºç°æ¬¡æ•°å·²è¾¾åˆ°ä¸Šé™ï¼Œç»§ç»­é€‰æ‹©</span></span><br><span class="line">        <span class="keyword">elif</span> card == <span class="string">&#x27;luck&#x27;</span> <span class="keyword">and</span> total_counter[<span class="string">&#x27;luck&#x27;</span>] &gt; max_luck_count:</span><br><span class="line">            <span class="keyword">continue</span>  <span class="comment"># å¦‚æœè¿æ°”ç‰Œå·²è¾¾åˆ°ä¸Šé™ï¼Œç»§ç»­é€‰æ‹©</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(deck) &gt; max_total_cards:</span><br><span class="line">            <span class="keyword">continue</span>  <span class="comment"># å¦‚æœæ€»ç‰Œæ•°è¶…å‡ºä¸Šé™ï¼Œç»§ç»­é€‰æ‹©</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä¸€æ—¦é€‰ä¸­ç¬¦åˆæ¡ä»¶çš„å¡ç‰Œï¼Œå°±å¯ä»¥è¿”å›</span></span><br><span class="line">        deck.remove(card)  <span class="comment"># ä»æ’å †æ‹¿èµ°æŠ½èµ°çš„ç‰Œ</span></span><br><span class="line">        <span class="keyword">return</span> card</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œæ¸¸æˆ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">play_game</span>():</span><br><span class="line">    score = <span class="number">0</span></span><br><span class="line">    deck_copy = deck.copy()  <span class="comment"># å‰¯æœ¬ç”¨æ¥æ¨¡æ‹Ÿæ¸¸æˆ</span></span><br><span class="line">    <span class="comment"># ç”¨äºç»Ÿè®¡æ‰€æœ‰æ›¾ç»å‡ºç°è¿‡çš„å¡ç‰‡çš„æ€»æ¬¡æ•°</span></span><br><span class="line">    game_zone = draw_initial_game_zone()  <span class="comment"># éšæœºæŠ½å–9å¼ ç‰Œ</span></span><br><span class="line">    game_zone_counter = Counter(game_zone)</span><br><span class="line">    <span class="comment"># ç”¨äºç»Ÿè®¡æ‰€æœ‰æ›¾ç»å‡ºç°è¿‡çš„å¡ç‰‡çš„æ€»æ¬¡æ•°</span></span><br><span class="line">    total_counter = Counter(game_zone)  <span class="comment"># è®¡ç®—æ¯ä¸ªæ•°å­—åœ¨æ¸¸æˆåŒºä¸­çš„æ•°é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># éšæœºé€‰æ‹©è®¸æ„¿æ•°å­—ï¼ŒèŒƒå›´ä»1åˆ°9</span></span><br><span class="line">    wish_number = random.choice(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æœ¬è½®æ¸¸æˆçš„è®¸æ„¿æ•°å­—æ˜¯: <span class="subst">&#123;wish_number&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;åˆå§‹æ¸¸æˆåŒº: <span class="subst">&#123;game_zone&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">    draw_sequence = []</span><br><span class="line">    game_zone_history = []  <span class="comment"># ç”¨äºè®°å½•æ¸¸æˆåŒºæ¯æ¬¡çš„å˜åŒ–</span></span><br><span class="line">    card_additions = []  <span class="comment"># ç”¨äºè®°å½•æ¯ä¸€æ­¥è¡¥å……äº†å“ªäº›ç‰Œä»¥åŠè¡¥å……çš„åŸå› </span></span><br><span class="line">    current_total_counter = []</span><br><span class="line">    additional_card_step = <span class="literal">None</span>  <span class="comment"># ç”¨äºæ ‡è®°å“ªä¸€æ­¥å› ä¸ºå¾—åˆ†å¤§äºç­‰äº5è€Œå¢åŠ äº†ä¸€å¼ ç‰Œ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">any</span>(count &gt;= <span class="number">2</span> <span class="keyword">for</span> count <span class="keyword">in</span> game_zone_counter.values()):  <span class="comment"># æ¸¸æˆç»§ç»­ç›´åˆ°æ²¡æœ‰å¯åŒ¹é…çš„ç‰Œ</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å½“å‰æ¸¸æˆåŒº: <span class="subst">&#123;game_zone&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å½“å‰å¾—åˆ†: <span class="subst">&#123;score&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®°å½•å½“å‰æ¸¸æˆåŒºçš„çŠ¶æ€</span></span><br><span class="line">        game_zone_history.append(game_zone.copy())</span><br><span class="line">        current_total_counter.append(total_counter.copy())</span><br><span class="line">        <span class="comment"># æŸ¥æ‰¾æ˜¯å¦æœ‰å¯ä»¥åŒ¹é…çš„æ•°å­—ï¼ˆæ•°é‡å¤§äºç­‰äº2ï¼‰</span></span><br><span class="line">        matched = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> number, count <span class="keyword">in</span> game_zone_counter.items():</span><br><span class="line">            <span class="keyword">if</span> count &gt;= <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;åŒ¹é…æ•°å­— <span class="subst">&#123;number&#125;</span>ï¼Œå¾—åˆ† +1&quot;</span>)</span><br><span class="line">                <span class="comment"># è®°å½•éœ€è¦åˆ é™¤çš„ç´¢å¼•</span></span><br><span class="line">                to_remove_indices = []</span><br><span class="line">                <span class="comment"># ç¡®ä¿åªç§»é™¤å‰ä¸¤ä¸ª</span></span><br><span class="line">                removed_count = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i, card <span class="keyword">in</span> <span class="built_in">enumerate</span>(game_zone):</span><br><span class="line">                    <span class="keyword">if</span> card == number <span class="keyword">and</span> removed_count &lt; <span class="number">2</span>:</span><br><span class="line">                        to_remove_indices.append(i)</span><br><span class="line">                        removed_count += <span class="number">1</span></span><br><span class="line">                        <span class="keyword">if</span> removed_count == <span class="number">2</span>:</span><br><span class="line">                            <span class="keyword">break</span>  <span class="comment"># å·²ç»ç§»é™¤ä¸¤ä¸ªï¼Œè·³å‡ºå¾ªç¯</span></span><br><span class="line">                <span class="comment"># åˆ é™¤è®°å½•çš„å¡ç‰Œ</span></span><br><span class="line">                <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">sorted</span>(to_remove_indices, reverse=<span class="literal">True</span>):  <span class="comment"># åå‘åˆ é™¤é¿å…ç´¢å¼•å˜åŒ–</span></span><br><span class="line">                    game_zone.pop(index)</span><br><span class="line"></span><br><span class="line">                score += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># å¤„ç†è¡¥å……ç‰Œçš„éƒ¨åˆ†ï¼Œç¡®ä¿æ¯æ¬¡åªè¡¥å……3å¼ ç‰Œ</span></span><br><span class="line">                <span class="keyword">if</span> number == wish_number:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;è®¸æ„¿æ•°å­— <span class="subst">&#123;number&#125;</span> åŒ¹é…æˆåŠŸï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>)</span><br><span class="line">                    added_cards = []  <span class="comment"># ç”¨æ¥è®°å½•è¡¥å……çš„å¡ç‰Œ</span></span><br><span class="line">                    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                        new_card = draw_from_deck(deck_copy, total_counter)</span><br><span class="line">                        game_zone.append(new_card)  <span class="comment"># å°†æ–°å¡åŠ å…¥æ¸¸æˆåŒº</span></span><br><span class="line">                        added_cards.append(new_card)  <span class="comment"># å°†æ–°å¡åŠ å…¥è®°å½•çš„è¡¥å……å¡ç‰Œåˆ—è¡¨</span></span><br><span class="line">                        draw_sequence.append(new_card)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">                    card_additions.append((added_cards, <span class="string">f&quot;è®¸æ„¿æ•°å­— <span class="subst">&#123;number&#125;</span> åŒ¹é…æˆåŠŸï¼Œè¡¥å……3å¼ ç‰Œ:<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;è¡¥å……1å¼ ç‰Œåˆ°æ¸¸æˆåŒº&quot;</span>)</span><br><span class="line">                    added_cards = [draw_from_deck(deck_copy, total_counter)]</span><br><span class="line">                    game_zone.extend(added_cards)  <span class="comment"># æ‰©å±•æ¸¸æˆåŒºï¼Œæ·»åŠ 1å¼ ç‰Œ</span></span><br><span class="line">                    card_additions.append((added_cards, <span class="string">f&quot;åŒ¹é…æ•°å­— <span class="subst">&#123;number&#125;</span>ï¼Œè¡¥å……1å¼ ç‰Œ<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">                    draw_sequence.extend(added_cards)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåºå……1å¼ ç‰Œ&quot;))</span></span><br><span class="line"></span><br><span class="line">                matched = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span>  <span class="comment"># åœ¨ä¸€è½®ä¸­åŒ¹é…ä¸€å¯¹å³å¯</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¦‚æœæŠ½åˆ°è¿æ°”ç‰Œï¼Œè¡¥å……3å¼ æ–°ç‰Œ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;luck&#x27;</span> <span class="keyword">in</span> game_zone:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;è¿æ°”ç‰Œè§¦å‘ï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>)</span><br><span class="line">            game_zone.remove(<span class="string">&#x27;luck&#x27;</span>)</span><br><span class="line">            added_cards = []</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                new_card = draw_from_deck(deck_copy, total_counter)</span><br><span class="line">                game_zone.append(new_card)</span><br><span class="line">                added_cards.append(new_card)</span><br><span class="line">                draw_sequence.append(new_card)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">            card_additions.append((added_cards, <span class="string">&quot;è¿æ°”ç‰Œè§¦å‘ï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›´æ–°game_zone_counter</span></span><br><span class="line">        game_zone_counter = Counter(game_zone)</span><br><span class="line">        <span class="built_in">print</span>(game_zone_counter)</span><br><span class="line">        <span class="comment"># å¦‚æœæ²¡æœ‰åŒ¹é…çš„ç‰Œå¹¶ä¸”æ²¡æœ‰è¿æ°”ç‰Œï¼Œç»“æŸæ¸¸æˆ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> matched <span class="keyword">and</span> <span class="string">&#x27;luck&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> game_zone:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æ­£å¸¸æ¸¸æˆç»“æŸï¼æœ€ç»ˆå¾—åˆ†ï¼š<span class="subst">&#123;score&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="comment"># è®°å½•æ­£å¸¸æ¸¸æˆç»“æŸåæ¸¸æˆåŒº</span></span><br><span class="line">    game_zone_history.append(game_zone.copy())</span><br><span class="line">    current_total_counter.append(total_counter.copy())</span><br><span class="line">    <span class="comment"># é¢å¤–è§„åˆ™ï¼šå¦‚æœå¾—åˆ†å¤§äºç­‰äº5ï¼Œå¹¶ä¸”ç‰Œå †ä¸­è¿˜æœ‰ç‰Œï¼Œç»§ç»­æŠ½ä¸€å¼ ç‰Œ</span></span><br><span class="line">    <span class="keyword">if</span> score &gt;= <span class="number">5</span> <span class="keyword">and</span> deck_copy:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¾—åˆ†å¤§äºç­‰äº5ï¼Œå¥¶ä¸€å£ç»§ç»­ä»ç‰Œå †ä¸­æŠ½ä¸€å¼ ç‰Œå¹¶è®¡ç®—æ–°çš„å¾—åˆ†ã€‚&quot;</span>)</span><br><span class="line">        <span class="comment"># new_card = draw_from_deck(deck_copy, total_counter)</span></span><br><span class="line">        <span class="comment"># game_zone.append(new_card)</span></span><br><span class="line">        <span class="comment"># draw_sequence.append(new_card)  # è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">        <span class="comment"># additional_card_step = len(game_zone_history) + 1  # æ ‡è®°åœ¨å“ªä¸€æ­¥å¢åŠ äº†ä¸€å¼ ç‰Œ</span></span><br><span class="line">        <span class="comment"># print(f&quot;å¥¶ä¸€å£æ–°æŠ½å–çš„ç‰Œ: &#123;new_card&#125;&quot;)</span></span><br><span class="line">        added_cards = [draw_from_deck(deck_copy, total_counter)]</span><br><span class="line">        game_zone.extend(added_cards)  <span class="comment"># æ‰©å±•æ¸¸æˆåŒºï¼Œæ·»åŠ 1å¼ ç‰Œ</span></span><br><span class="line">        game_zone_history.append(game_zone.copy())</span><br><span class="line">        current_total_counter.append(total_counter.copy())</span><br><span class="line">        card_additions.append((added_cards, <span class="string">f&quot;æ»¡è¶³å¥¶ä¸€å£è§„åˆ™ï¼Œè¡¥å……1å¼ ç‰Œ<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">        draw_sequence.extend(added_cards)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåºå……1å¼ ç‰Œ&quot;))</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£æ–°æŠ½å–çš„ç‰Œ: <span class="subst">&#123;added_cards&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># é‡æ–°è®¡ç®—å¾—åˆ†</span></span><br><span class="line">        game_zone_counter = Counter(game_zone)</span><br><span class="line">        new_score = score</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æŸ¥æ‰¾å¥¶ä¸€å£åæ˜¯å¦æœ‰å¯ä»¥åŒ¹é…çš„æ•°å­—ï¼ˆæ•°é‡å¤§äºç­‰äº2ï¼‰</span></span><br><span class="line">        milk_matched = <span class="literal">False</span></span><br><span class="line">        <span class="comment"># æŸ¥æ‰¾æ˜¯å¦æœ‰å¯ä»¥åŒ¹é…çš„æ•°å­—ï¼ˆæ•°é‡å¤§äºç­‰äº2ï¼‰</span></span><br><span class="line">        <span class="keyword">for</span> number, count <span class="keyword">in</span> game_zone_counter.items():</span><br><span class="line">            <span class="keyword">if</span> count &gt;= <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£ååŒ¹é…æ•°å­— <span class="subst">&#123;number&#125;</span>ï¼Œå¾—åˆ† +1&quot;</span>)</span><br><span class="line">                <span class="comment"># è®°å½•éœ€è¦åˆ é™¤çš„ç´¢å¼•</span></span><br><span class="line">                to_remove_indices = []</span><br><span class="line">                <span class="comment"># ç¡®ä¿åªç§»é™¤å‰ä¸¤ä¸ª</span></span><br><span class="line">                removed_count = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i, card <span class="keyword">in</span> <span class="built_in">enumerate</span>(game_zone):</span><br><span class="line">                    <span class="keyword">if</span> card == number <span class="keyword">and</span> removed_count &lt; <span class="number">2</span>:</span><br><span class="line">                        to_remove_indices.append(i)</span><br><span class="line">                        removed_count += <span class="number">1</span></span><br><span class="line">                        <span class="keyword">if</span> removed_count == <span class="number">2</span>:</span><br><span class="line">                            <span class="keyword">break</span>  <span class="comment"># å·²ç»ç§»é™¤ä¸¤ä¸ªï¼Œè·³å‡ºå¾ªç¯</span></span><br><span class="line">                <span class="comment"># åˆ é™¤è®°å½•çš„å¡ç‰Œ</span></span><br><span class="line">                <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">sorted</span>(to_remove_indices, reverse=<span class="literal">True</span>):  <span class="comment"># åå‘åˆ é™¤é¿å…ç´¢å¼•å˜åŒ–</span></span><br><span class="line">                    game_zone.pop(index)</span><br><span class="line"></span><br><span class="line">                new_score += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># å¤„ç†è¡¥å……ç‰Œçš„éƒ¨åˆ†ï¼Œç¡®ä¿æ¯æ¬¡åªè¡¥å……3å¼ ç‰Œ</span></span><br><span class="line">                <span class="keyword">if</span> number == wish_number:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£åè®¸æ„¿æ•°å­— <span class="subst">&#123;number&#125;</span> åŒ¹é…æˆåŠŸï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>)</span><br><span class="line">                    added_cards = []  <span class="comment"># ç”¨æ¥è®°å½•è¡¥å……çš„å¡ç‰Œ</span></span><br><span class="line">                    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                        new_card = draw_from_deck(deck_copy, total_counter)</span><br><span class="line">                        game_zone.append(new_card)  <span class="comment"># å°†æ–°å¡åŠ å…¥æ¸¸æˆåŒº</span></span><br><span class="line">                        added_cards.append(new_card)  <span class="comment"># å°†æ–°å¡åŠ å…¥è®°å½•çš„è¡¥å……å¡ç‰Œåˆ—è¡¨</span></span><br><span class="line">                        draw_sequence.append(new_card)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">                    game_zone_history.append(game_zone.copy())</span><br><span class="line">                    current_total_counter.append(total_counter.copy())</span><br><span class="line">                    card_additions.append((added_cards, <span class="string">f&quot;å¥¶ä¸€å£åè®¸æ„¿æ•°å­— <span class="subst">&#123;number&#125;</span> åŒ¹é…æˆåŠŸï¼Œè¡¥å……3å¼ ç‰Œ:<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£åè¡¥å……1å¼ ç‰Œåˆ°æ¸¸æˆåŒº&quot;</span>)</span><br><span class="line">                    added_cards = [draw_from_deck(deck_copy, total_counter)]</span><br><span class="line">                    game_zone.extend(added_cards)  <span class="comment"># æ‰©å±•æ¸¸æˆåŒºï¼Œæ·»åŠ 1å¼ ç‰Œ</span></span><br><span class="line">                    game_zone_history.append(game_zone.copy())</span><br><span class="line">                    current_total_counter.append(total_counter.copy())</span><br><span class="line">                    card_additions.append((added_cards, <span class="string">f&quot;å¥¶ä¸€å£ååŒ¹é…æ•°å­— <span class="subst">&#123;number&#125;</span>ï¼Œè¡¥å……1å¼ ç‰Œ<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">                    draw_sequence.extend(added_cards)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåºå……1å¼ ç‰Œ&quot;))</span></span><br><span class="line"></span><br><span class="line">                milk_matched = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span>  <span class="comment"># åœ¨ä¸€è½®ä¸­åŒ¹é…ä¸€å¯¹å³å¯</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¦‚æœæŠ½åˆ°è¿æ°”ç‰Œï¼Œè¡¥å……3å¼ æ–°ç‰Œ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;luck&#x27;</span> <span class="keyword">in</span> game_zone:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;å¥¶ä¸€å£åè¿æ°”ç‰Œè§¦å‘ï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>)</span><br><span class="line">            game_zone.remove(<span class="string">&#x27;luck&#x27;</span>)</span><br><span class="line">            added_cards = []</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                new_card = draw_from_deck(deck_copy, total_counter)</span><br><span class="line">                game_zone.append(new_card)</span><br><span class="line">                added_cards.append(new_card)</span><br><span class="line">                draw_sequence.append(new_card)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">            game_zone_history.append(game_zone.copy())</span><br><span class="line">            current_total_counter.append(total_counter.copy())</span><br><span class="line">            card_additions.append((added_cards, <span class="string">&quot;å¥¶ä¸€å£åè¿æ°”ç‰Œè§¦å‘ï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›´æ–°game_zone_counter</span></span><br><span class="line">        game_zone_counter = Counter(game_zone)</span><br><span class="line">        <span class="built_in">print</span>(game_zone_counter)</span><br><span class="line">        <span class="comment"># å¦‚æœæ²¡æœ‰åŒ¹é…çš„ç‰Œå¹¶ä¸”æ²¡æœ‰è¿æ°”ç‰Œï¼Œç»“æŸæ¸¸æˆ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> milk_matched <span class="keyword">and</span> <span class="string">&#x27;luck&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> game_zone:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;å¥¶ä¸€å£åä¹Ÿæ— æ³•å†åŠ åˆ†&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£ä¹‹åçš„æ–°å¾—åˆ†ï¼š<span class="subst">&#123;new_score&#125;</span>&quot;</span>)</span><br><span class="line">        score = new_score</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> score, draw_sequence, wish_number, game_zone_history,current_total_counter, card_additions, additional_card_step  <span class="comment"># è¿”å›å¾—åˆ†ã€æŠ½ç‰Œé¡ºåºã€è®¸æ„¿æ•°å­—å’Œå¢åŠ ç‰Œçš„æ­¥éª¤</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨¡æ‹Ÿå¤šæ¬¡æ¸¸æˆï¼Œè®¡ç®—ä¸åŒåˆ†æ•°å‡ºç°çš„é¢‘ç‡</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">monte_carlo_simulation</span>(<span class="params">num_simulations=<span class="number">500000</span></span>):</span><br><span class="line">    highest_score = <span class="number">0</span></span><br><span class="line">    highest_score_sequence = []  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶çš„æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">    highest_wish_number = <span class="literal">None</span>  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶çš„è®¸æ„¿æ•°å­—</span></span><br><span class="line">    highest_game_zone_history = []  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶çš„æ¸¸æˆåŒºå˜åŒ–</span></span><br><span class="line">    highest_current_total_counter = []</span><br><span class="line">    highest_card_additions = []  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶çš„æ¯æ­¥ç‰Œè¡¥å……è¯¦æƒ…</span></span><br><span class="line">    highest_additional_card_step = <span class="literal">None</span>  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶å¢åŠ ç‰Œçš„æ­¥éª¤</span></span><br><span class="line">    scores = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num_simulations):</span><br><span class="line">        score, draw_sequence, wish_number, game_zone_history, current_total_counter,card_additions, additional_card_step = play_game()</span><br><span class="line">        scores.append(score)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è·Ÿè¸ªæœ€é«˜å¾—åˆ†çš„æ¨¡æ‹Ÿ</span></span><br><span class="line">        <span class="keyword">if</span> score &gt; highest_score:</span><br><span class="line">            highest_score = score</span><br><span class="line">            highest_score_sequence = draw_sequence</span><br><span class="line">            highest_wish_number = wish_number</span><br><span class="line">            highest_game_zone_history = game_zone_history</span><br><span class="line">            highest_current_total_counter  = current_total_counter</span><br><span class="line">            highest_card_additions = card_additions</span><br><span class="line">            highest_additional_card_step = additional_card_step</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç»˜åˆ¶å¾—åˆ†åˆ†å¸ƒ</span></span><br><span class="line">    plt.hist(scores, bins=<span class="built_in">range</span>(<span class="built_in">min</span>(scores), <span class="built_in">max</span>(scores) + <span class="number">1</span>), edgecolor=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;å¾—åˆ†&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;å‡ºç°æ¬¡æ•°&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">f&#x27;æ¸¸æˆå¾—åˆ†åˆ†å¸ƒï¼ˆæ¨¡æ‹Ÿ <span class="subst">&#123;num_simulations&#125;</span> æ¬¡ï¼‰&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> highest_score, highest_score_sequence, highest_wish_number, highest_game_zone_history,highest_current_total_counter, highest_card_additions, highest_additional_card_step</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›è¡Œå¤šæ¬¡æ¨¡æ‹Ÿ</span></span><br><span class="line">highest_score, highest_score_sequence, highest_wish_number, highest_game_zone_history,highest_current_total_counter, highest_card_additions, highest_additional_card_step = monte_carlo_simulation()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†: <span class="subst">&#123;highest_score&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶çš„æŠ½ç‰Œé¡ºåº: <span class="subst">&#123;highest_score_sequence&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶çš„è®¸æ„¿æ•°å­—: <span class="subst">&#123;highest_wish_number&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æœ€é«˜å¾—åˆ†æ—¶çš„æ¸¸æˆåŒºå˜åŒ–</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶çš„æ¸¸æˆåŒºå˜åŒ–:&quot;</span>)</span><br><span class="line"><span class="comment"># for idx, history in enumerate(highest_game_zone_history, start=1):</span></span><br><span class="line"><span class="keyword">for</span> idx, (history, used_count) <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="built_in">zip</span>(highest_game_zone_history, highest_current_total_counter), start=<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æ­¥éª¤ <span class="subst">&#123;idx&#125;</span>: <span class="subst">&#123;history&#125;</span>ï¼Œå·²ç»ç”¨æ‰çš„å¡ç‰Œæ¬¡æ•°ï¼š<span class="subst">&#123;used_count&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æ¯æ­¥ç‰Œè¡¥å……çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶çš„æ¯æ­¥ç‰Œè¡¥å……è¯¦æƒ…:&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> idx, (cards, reason) <span class="keyword">in</span> <span class="built_in">enumerate</span>(highest_card_additions, start=<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æ­¥éª¤ <span class="subst">&#123;idx&#125;</span>: <span class="subst">&#123;reason&#125;</span> -&gt; è¡¥å……äº†: <span class="subst">&#123;cards&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶å¢åŠ ç‰Œçš„æ­¥éª¤: <span class="subst">&#123;highest_additional_card_step&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div>

<h2 id="æ¸¸æˆç»“æœ"><a href="#æ¸¸æˆç»“æœ" class="headerlink" title="æ¸¸æˆç»“æœ"></a>æ¸¸æˆç»“æœ</h2><p>æ­£æ€åˆ†å¸ƒå›¾<br><a href="images/mdimages/2025-01-03-18-35-53.png">2025-01-03-18-35-53.png</a><br>æœ€é«˜å¾—åˆ†è®¡ç®—<br><a href="images/mdimages/2025-01-03-18-36-26.png">2025-01-03-18-36-26.png</a></p>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
</search>
