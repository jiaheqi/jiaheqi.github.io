<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Android apk ç­¾å</title>
    <url>/2025/01/02/Android-apk%E7%AD%BE%E5%90%8D/</url>
    <content><![CDATA[<h2 id="æŸ¥çœ‹apkç­¾å"><a href="#æŸ¥çœ‹apkç­¾å" class="headerlink" title="æŸ¥çœ‹apkç­¾å"></a>æŸ¥çœ‹apkç­¾å</h2><blockquote>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a class="link"   href="https://developers.google.com/android/guides/client-auth?hl=zh-cn" >https://developers.google.com/android/guides/client-auth?hl=zh-cn<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ–¹å¼ä¸€</span></span><br><span class="line">keytool -printcert -jarfile /Users/topjoy/Desktop/zeusbuild.apk</span><br><span class="line"><span class="comment"># æ–¹å¼äºŒ</span></span><br><span class="line">jarsigner -verify -verbose -certs app-release.apk </span><br></pre></td></tr></table></figure></div>

<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-02-18-29-27.png"
                      alt="001"
                ></p>
<p>firebaseåå°ï¼š<a class="link"   href="https://console.firebase.google.com/u/1/project/dao-project-380602/settings/general/android:com.topjoy.sdk_demo?hl=zh-cn" >https://console.firebase.google.com/u/1/project/dao-project-380602/settings/general/android:com.topjoy.sdk_demo?hl=zh-cn<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-02-18-30-20.png"
                      alt="002"
                ></p>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><ol>
<li><p>åŒä¸€ä¸ªåŒ…åï¼Œä½¿ç”¨ä¸åŒçš„ç­¾åkeystoreï¼Œæœ€ç»ˆæ‰“å‡ºçš„åŒ…ç­¾åæ˜¯ä¸ä¸€è‡´çš„</p>
</li>
<li><p>å¦‚æœæ‰“å‡ºçš„åŒ…ç­¾åSHA-1 SHA-256åœ¨firebaseåå°æœªé…ç½®ï¼Œé‚£ä¹ˆè°·æ­Œç›¸å…³èƒ½åŠ›åˆ™æ— æ³•ä½¿ç”¨ï¼Œæ¯”å¦‚è°·æ­Œç™»å½•ä¼šå¤±è´¥ï¼Œè¿”å›é”™è¯¯ç 10<br>  è§£å†³2çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªåŒ…åï¼Œæˆ–è€…æŠŠæ‰“å‡ºçš„åŒ…ç­¾åæ·»åŠ åˆ°firabseåå°</p>
</li>
<li><p>android studioé…ç½®ç­¾åkeystore<br> åœ¨gradleæ–‡ä»¶æ·»åŠ é…ç½®</p>
 <div class="code-container" data-rel="Gradle"><figure class="iseeu highlight gradle"><table><tr><td class="code"><pre><span class="line">    signingConfigs &#123;</span><br><span class="line">    config &#123;<span class="comment">//è°·æ­Œæ”¯ä»˜ä½¿ç”¨çš„jks</span></span><br><span class="line">        storeFile <span class="keyword">file</span>(<span class="string">&#x27;mujianchen.jsk&#x27;</span>)</span><br><span class="line">        keyAlias <span class="string">&#x27;mujianchen&#x27;</span></span><br><span class="line">        keyPassword <span class="string">&#x27;mu123456&#x27;</span></span><br><span class="line">        storePassword <span class="string">&#x27;mu123456&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ylconfig &#123;<span class="comment">//å¯ä»¥ç”¨æ¥æµ‹è¯•çš„ç­¾å</span></span><br><span class="line">        storeFile <span class="keyword">file</span>(<span class="string">&#x27;youle.jks&#x27;</span>)</span><br><span class="line">        keyAlias <span class="string">&#x27;youle&#x27;</span></span><br><span class="line">        keyPassword <span class="string">&#x27;yl123456&#x27;</span></span><br><span class="line">        storePassword <span class="string">&#x27;yl123456&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>unityé…ç½®ç­¾åï¼šåœ¨player-settingsä¸­<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-02-18-30-40.png"
                      alt="003"
                ></p>
</li>
</ol>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>Github Pages+Hexo+Waline+Leancloud+Artitalkæ­å»ºä¸ªäººåšå®¢</title>
    <url>/2025/01/04/Github-Pages-Hexo-Waline-Leancloud-Artitalk%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Real-ESRGAN å›¾åƒå’Œè§†é¢‘AIä¿®å¤å·¥å…·ä½¿ç”¨</title>
    <url>/2025/01/06/Real-ESRGAN-%E5%9B%BE%E5%83%8F%E5%92%8C%E8%A7%86%E9%A2%91AI%E4%BF%AE%E5%A4%8D%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨æˆ‘ä»¬çš„æ—¥å¸¸ä¸­ï¼Œå¯¹äºä¸€äº›å¹´ä»£æ¯”è¾ƒä¹…è¿œçš„å›¾ç‰‡ or è§†é¢‘ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥è¿›è¡Œä¸€äº›ä¿®å¤ï¼Œä½†æ˜¯ç°åœ¨å¾ˆå¤šè½¯ä»¶éƒ½æ¯”è¾ƒè€—è´¹æ€§èƒ½ï¼Œæˆ–è€…éœ€è¦ä»˜è´¹ï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªæ¯”è¾ƒè½»é‡çº§çš„è½¯ä»¶ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›ä¿®å¤ï¼Œå¹¶ä¸”å¯ä»¥å…è´¹ä½¿ç”¨ã€‚<br>ç„¶ååœ¨ github å¶ç„¶å‘ç°äº†è¿™ä¸ªå·¥å…·ï¼Œè®°å½•ä¸€ä¸‹ä½¿ç”¨çš„è¿‡ç¨‹å’Œé‡åˆ°çš„é—®é¢˜ã€‚</p>
<h2 id="å‰ç½®å‡†å¤‡"><a href="#å‰ç½®å‡†å¤‡" class="headerlink" title="å‰ç½®å‡†å¤‡"></a>å‰ç½®å‡†å¤‡</h2><blockquote>
<p>å·¥å…· githubåœ°å€ <a class="link"   href="https://github.com/xinntao/Real-ESRGAN" >Real-ESRGAN<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<ol>
<li><p>å…‹éš†ä»£ç åˆ°æœ¬åœ° <code>git clone https://github.com/xinntao/Real-ESRGAN.git</code></p>
</li>
<li><p>å®‰è£…ä¾èµ– <code>pip install basicsr</code><br>è¿™æ—¶å€™é‡åˆ°äº†æŠ¥é”™ï¼Œbasicsr å®‰è£…å¤±è´¥ï¼Œé”™è¯¯ä¿¡æ¯</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">pip install basicsr</span><br><span class="line">Collecting basicsr</span><br><span class="line">Using cached basicsr-1.4.2.tar.gz (172 kB)</span><br><span class="line">Installing build dependencies ... done</span><br><span class="line">Getting requirements to build wheel ... error</span><br><span class="line">error: subprocess-exited-with-error</span><br><span class="line"></span><br><span class="line">Ã— Getting requirements to build wheel did not run successfully.</span><br><span class="line">â”‚ exit code: 1</span><br><span class="line">â•°â”€&gt; [24 lines of output]</span><br><span class="line">      Traceback (most recent call last):</span><br><span class="line">      File &quot;/Users/topjoy/PycharmProjects/Real-ESRGAN/venv/lib/python3.13/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;, line 353, in &lt;module&gt;</span><br><span class="line">         main()</span><br><span class="line">         ~~~~^^</span><br><span class="line">      File &quot;/Users/topjoy/PycharmProjects/Real-ESRGAN/venv/lib/python3.13/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;, line 335, in main</span><br><span class="line">         json_out[&#x27;return_val&#x27;] = hook(**hook_input[&#x27;kwargs&#x27;])</span><br><span class="line">                                 ~~~~^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File &quot;/Users/topjoy/PycharmProjects/Real-ESRGAN/venv/lib/python3.13/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;, line 118, in get_requires_for_build_wheel</span><br><span class="line">         return hook(config_settings)</span><br><span class="line">      File &quot;/private/var/folders/h7/b_kcqfhn5t7cs_w3p6ks093w0000gn/T/pip-build-env-gfw___4v/overlay/lib/python3.13/site-packages/setuptools/build_meta.py&quot;, line 334, in get_requires_for_build_wheel</span><br><span class="line">         return self._get_build_requires(config_settings, requirements=[])</span><br><span class="line">               ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File &quot;/private/var/folders/h7/b_kcqfhn5t7cs_w3p6ks093w0000gn/T/pip-build-env-gfw___4v/overlay/lib/python3.13/site-packages/setuptools/build_meta.py&quot;, line 304, in _get_build_requires</span><br><span class="line">         self.run_setup()</span><br><span class="line">         ~~~~~~~~~~~~~~^^</span><br><span class="line">      File &quot;/private/var/folders/h7/b_kcqfhn5t7cs_w3p6ks093w0000gn/T/pip-build-env-gfw___4v/overlay/lib/python3.13/site-packages/setuptools/build_meta.py&quot;, line 522, in run_setup</span><br><span class="line">         super().run_setup(setup_script=setup_script)</span><br><span class="line">         ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File &quot;/private/var/folders/h7/b_kcqfhn5t7cs_w3p6ks093w0000gn/T/pip-build-env-gfw___4v/overlay/lib/python3.13/site-packages/setuptools/build_meta.py&quot;, line 320, in run_setup</span><br><span class="line">         exec(code, locals())</span><br><span class="line">         ~~~~^^^^^^^^^^^^^^^^</span><br><span class="line">      File &quot;&lt;string&gt;&quot;, line 149, in &lt;module&gt;</span><br><span class="line">      File &quot;&lt;string&gt;&quot;, line 79, in get_version</span><br><span class="line">      KeyError: &#x27;__version__&#x27;</span><br><span class="line">      [end of output]</span><br><span class="line"></span><br><span class="line">note: This error originates from a subprocess, and is likely not a problem with pip.</span><br><span class="line">error: subprocess-exited-with-error</span><br><span class="line"></span><br><span class="line">Ã— Getting requirements to build wheel did not run successfully.</span><br><span class="line">â”‚ exit code: 1</span><br><span class="line">â•°â”€&gt; See above for output.</span><br><span class="line">note: This error originates from a subprocess, and is likely not a problem with pip.</span><br></pre></td></tr></table></figure></div>

<p>è§£å†³åŠæ³•ï¼š</p>
<ol>
<li>æ›´æ–° setuptools å’Œ pip ç‰ˆæœ¬ <code>pip install --upgrade pip setuptools wheel</code></li>
<li>å®‰è£… torchã€opencv <code>pip install torch opencv-python</code><br>æ­¤æ—¶å› ä¸ºæˆ‘æœ¬åœ°çš„python ç‰ˆæœ¬æ˜¯ 3.13ï¼Œtorch ä¸æ”¯æŒ 3.13ï¼Œå®˜æ–¹æ–‡æ¡£çš„æ”¯æŒæ˜¯ 3.9ï½3.12ï¼Œæ‰€ä»¥æ›´æ¢ä½¿ç”¨ 3.12 ç‰ˆæœ¬<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-06-15-25-33.png"
                      alt="2025-01-06-15-25-33.png"
                ><blockquote>
<p><a class="link"   href="https://pytorch.org/get-started/locally/" >PyTorch<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
</li>
<li>æ›´æ¢ç‰ˆæœ¬åï¼Œbasicsr å®‰è£…æˆåŠŸ</li>
</ol>
</li>
</ol>
<h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£é’ˆå¯¹äºæ™®é€šå›¾ç‰‡å’ŒåŠ¨å›¾æœ‰ä¸¤ä¸ªæä¾›å¥½çš„æ¨¡å‹ä½¿ç”¨ï¼Œåˆ†åˆ«æ˜¯ RealESRGAN_x4plus å’Œ RealESRGAN_x4plus_anime_6B</p>
<h3 id="æ™®é€šå›¾ç‰‡"><a href="#æ™®é€šå›¾ç‰‡" class="headerlink" title="æ™®é€šå›¾ç‰‡"></a>æ™®é€šå›¾ç‰‡</h3><p>ä½¿ç”¨æ¨¡å‹RealESRGAN_x4plus.pth</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½æ¨¡å‹</span></span><br><span class="line">wget https://github.com/xinntao/Real-ESRGAN/releases/download/v0.1.0/RealESRGAN_x4plus.pth -P weights </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¨æ–­å³è¿è¡Œï¼Œæºæ–‡ä»¶æ”¾åœ¨ inputs ç›®å½•ä¸‹</span></span><br><span class="line">python inference_realesrgan.py -n RealESRGAN_x4plus -i inputs --face_enhance</span><br></pre></td></tr></table></figure></div>

<h3 id="åŠ¨å›¾"><a href="#åŠ¨å›¾" class="headerlink" title="åŠ¨å›¾"></a>åŠ¨å›¾</h3><p>ä½¿ç”¨æ¨¡å‹RealESRGAN_x4plus_anime_6B</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½æ¨¡å‹</span></span><br><span class="line">wget https://github.com/xinntao/Real-ESRGAN/releases/download/v0.2.2.4/RealESRGAN_x4plus_anime_6B.pth -P weights</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¨æ–­å³è¿è¡Œï¼Œæºæ–‡ä»¶æ”¾åœ¨ inputs ç›®å½•ä¸‹</span></span><br><span class="line">python inference_realesrgan.py -n RealESRGAN_x4plus_anime_6B -i inputs</span><br></pre></td></tr></table></figure></div>

<p>è¿è¡ŒæˆåŠŸåï¼Œä¼šåœ¨ outputs ç›®å½•ä¸‹ç”Ÿæˆå¤„ç†åçš„å›¾ç‰‡ï¼Œå¯ä»¥æŸ¥çœ‹æ•ˆæœã€‚</p>
<h2 id="è¾“å‡ºå°ºå¯¸çš„è‡ªå®šä¹‰"><a href="#è¾“å‡ºå°ºå¯¸çš„è‡ªå®šä¹‰" class="headerlink" title="è¾“å‡ºå°ºå¯¸çš„è‡ªå®šä¹‰"></a>è¾“å‡ºå°ºå¯¸çš„è‡ªå®šä¹‰</h2><p>RealESRGAN_x4plus.pthæ¨¡å‹é»˜è®¤ä½¿ç”¨ X4å³4å€çš„è¶…åˆ†è¾¨ç‡ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å‘½ä»¤å‚æ•°<code>outscale</code>æ¥ä¿®æ”¹è¾“å‡ºå°ºå¯¸ã€‚</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">Usage: python inference_realesrgan.py -n RealESRGAN_x4plus -i infile -o outfile [options]...</span><br><span class="line"></span><br><span class="line">A common command: python inference_realesrgan.py -n RealESRGAN_x4plus -i infile --outscale 3.5 --face_enhance</span><br><span class="line"></span><br><span class="line">  -h                   show this help</span><br><span class="line">  -i --input           Input image or folder. Default: inputs</span><br><span class="line">  -o --output          Output folder. Default: results</span><br><span class="line">  -n --model_name      Model name. Default: RealESRGAN_x4plus</span><br><span class="line">  -s, --outscale       The final upsampling scale of the image. Default: 4</span><br><span class="line">  --suffix             Suffix of the restored image. Default: out</span><br><span class="line">  -t, --tile           Tile size, 0 for no tile during testing. Default: 0</span><br><span class="line">  --face_enhance       Whether to use GFPGAN to enhance face. Default: False</span><br><span class="line">  --fp32               Whether to use half precision during inference. Default: False</span><br><span class="line">  --ext                Image extension. Options: auto | jpg | png, auto means using the same extension as inputs. Default: auto</span><br></pre></td></tr></table></figure></div>

<h2 id="æ‡’äººç‰ˆæœ¬"><a href="#æ‡’äººç‰ˆæœ¬" class="headerlink" title="æ‡’äººç‰ˆæœ¬"></a>æ‡’äººç‰ˆæœ¬</h2><p>å®˜æ–¹æä¾›äº†å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ”¯æŒ Windows  Linux å’Œ MacOSï¼Œç›´æ¥ä¸‹è½½å³å¯ä½¿ç”¨ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-06-15-50-40.png"
                      alt="2025-01-06-15-50-40.png"
                ><br>æˆ‘ä½“éªŒä½¿ç”¨äº† mac osã€‚</p>
<h3 id="å¦‚æœæ˜¯å›¾ç‰‡"><a href="#å¦‚æœæ˜¯å›¾ç‰‡" class="headerlink" title="å¦‚æœæ˜¯å›¾ç‰‡"></a>å¦‚æœæ˜¯å›¾ç‰‡</h3><div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">./realesrgan-ncnn-vulkan.exe -i è¾“å…¥å›¾åƒ.jpg -o è¾“å‡ºå›¾åƒ.png -n æ¨¡å‹åå­—</span><br></pre></td></tr></table></figure></div>

<h3 id="å¦‚æœæ˜¯è§†é¢‘"><a href="#å¦‚æœæ˜¯è§†é¢‘" class="headerlink" title="å¦‚æœæ˜¯è§†é¢‘"></a>å¦‚æœæ˜¯è§†é¢‘</h3><p>å…¶å®åŸç†å°±æ˜¯æŠŠè§†é¢‘æ‹†åˆ†æˆä¸€å¸§ä¸€å¸§çš„å›¾ç‰‡ï¼Œå…ˆå¤„ç†ä¸€å¼ å¼ å›¾ç‰‡ï¼Œç„¶åå†åˆæˆæˆè§†é¢‘ã€‚</p>
<ol>
<li><p>Use ffmpeg to extract frames from a video (Remember to create the folder <code>tmp_frames</code> ahead)<br>åˆ›å»ºè§£å‹ç›®å½•tmp_framesï¼Œffmpeg éœ€è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ <code>brew install ffmpeg</code></p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i onepiece_demo.mp4 -qscale:v 1 -qmin 1 -qmax 1 -vsync 0 tmp_frames/frame%08d.jpg</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Inference with Real-ESRGAN executable file (Remember to create the folder <code>out_frames</code> ahead)<br>åˆ›å»ºå¤„ç†è¾“å‡ºç›®å½•out_framesï¼Œä½¿ç”¨æ¨¡å‹realesr-animevideov3ï¼Œæ”¾å¤§å€æ•°2ï¼Œè¾“å‡ºæ ¼å¼jpgï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨æä¾›çš„å…¶ä»–æ¨¡å‹ï¼‰</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">./realesrgan-ncnn-vulkan -i tmp_frames -o out_frames -n realesr-animevideov3 -s 2 -f jpg</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Merge the enhanced frames back into a video<br>æŠŠå¤„ç†è¾“å‡ºçš„å›¾ç‰‡å†é›†æˆæˆè§†é¢‘</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i out_frames/frame%08d.jpg -i onepiece_demo.mp4 -map 0:v:0 -map 1:a:0 -c:a copy -c:v libx264 -r 23.98 -pix_fmt yuv420p output_w_audio.mp4</span><br></pre></td></tr></table></figure></div></li>
</ol>
<h2 id="ä½¿ç”¨æ•ˆæœå¯¹æ¯”"><a href="#ä½¿ç”¨æ•ˆæœå¯¹æ¯”" class="headerlink" title="ä½¿ç”¨æ•ˆæœå¯¹æ¯”"></a>ä½¿ç”¨æ•ˆæœå¯¹æ¯”</h2><p>è¿™ä¸ªæ˜¯æˆ‘æºæ–‡ä»¶çš„åˆ†è¾¨ç‡çš„é¢„è§ˆ<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-06-15-57-52.png"
                      alt="2025-01-06-15-57-52.png"
                ></p>
<p>è¿™ä¸ªæ˜¯ä½¿ç”¨æ¨¡å‹RealESRGAN_x4plus.pthå¤„ç†åçš„ç»“æœï¼Œåˆ†è¾¨ç‡æ¥è¿‘ 8K(æºæ–‡ä»¶å¤ªå¤§äº†ï¼Œç›´æ¥ç²˜è¿›æ¥å¾ˆå¡å°±æˆªäº†ä¸€å¼ å¯¹æ¯”å›¾ï¼Œå¯èƒ½æ•ˆæœä¸æ˜æ˜¾ï¼Œå¯ä»¥è‡ªå·±ä½“éªŒä¸€ä¸‹ï¼Œå¯¹æ¯”çœŸçš„å¾ˆæ˜æ˜¾)<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-06-15-58-53.png"
                      alt="2025-01-06-15-58-53.png"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-06-16-01-41.png"
                      alt="2025-01-06-16-01-41.png"
                ></p>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>å›¾åƒä¿®å¤</tag>
      </tags>
  </entry>
  <entry>
    <title>Android apkåç¼–è¯‘ä¸ç¯¡æ”¹</title>
    <url>/2025/01/03/Android-apk%E5%8F%8D%E7%BC%96%E8%AF%91%E4%B8%8E%E7%AF%A1%E6%94%B9/</url>
    <content><![CDATA[<h2 id="jadx-guiåç¼–è¯‘"><a href="#jadx-guiåç¼–è¯‘" class="headerlink" title="jadx guiåç¼–è¯‘"></a>jadx guiåç¼–è¯‘</h2><h3 id="å®‰è£…ä¸å¯åŠ¨"><a href="#å®‰è£…ä¸å¯åŠ¨" class="headerlink" title="å®‰è£…ä¸å¯åŠ¨"></a>å®‰è£…ä¸å¯åŠ¨</h3><blockquote>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a class="link"   href="https://blog.csdn.net/qq_38393270/article/details/132046040" >https://blog.csdn.net/qq_38393270/article/details/132046040<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<p>å®‰è£…</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">brew install jadx</span><br></pre></td></tr></table></figure></div>

<p>å¯åŠ¨</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">jadx-gui</span><br></pre></td></tr></table></figure></div>

<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>ç›´æ¥æŠŠapkæ‹–è¿›å»æ‰“å¼€å°±okäº†ï¼Œç„¶åå¯ä»¥æ ¹æ®å…³é”®è¯æœç´¢ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-18-23-57.png"
                      alt="2025-01-03-18-23-57.png"
                ></p>
<h2 id="apktoolåç¼–è¯‘å’Œç¼–è¯‘"><a href="#apktoolåç¼–è¯‘å’Œç¼–è¯‘" class="headerlink" title="apktoolåç¼–è¯‘å’Œç¼–è¯‘"></a>apktoolåç¼–è¯‘å’Œç¼–è¯‘</h2><blockquote>
<p>å‚è€ƒæ–‡æ¡£<br><a class="link"   href="https://blog.csdn.net/greatsam/article/details/137049910" >https://blog.csdn.net/greatsam/article/details/137049910<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   href="https://www.cnblogs.com/andy0816/p/15174370.html" >https://www.cnblogs.com/andy0816/p/15174370.html<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   href="https://developer.android.com/tools/apksigner?hl=zh-cn#options-sign" >https://developer.android.com/tools/apksigner?hl=zh-cn#options-sign<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h3 id="åç¼–è¯‘"><a href="#åç¼–è¯‘" class="headerlink" title="åç¼–è¯‘"></a>åç¼–è¯‘</h3><p>æ‰€æœ‰çš„javaæ–‡ä»¶éƒ½æ˜¯ä»¥smaliçš„å½¢å¼åç¼–è¯‘å‡ºæ¥çš„ï¼Œä¿®æ”¹smaliå…¶ä¸­çš„ä»£ç å³å¯<br>å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº†tsçš„ä»£ç ï¼Œé‚£ä¹ˆç¼–è¯‘ä¹‹åä¼šå­˜åœ¨jsæ–‡ä»¶ä¸­</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">apktool d app-china-debug.apk -o zeusdemo</span><br></pre></td></tr></table></figure></div>

<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-18-25-42.png"
                      alt="2025-01-03-18-25-42.png"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-18-25-52.png"
                      alt="2025-01-03-18-25-52.png"
                ></p>
<h3 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">apktool b zeusdemo -o zeusdemonew.apk</span><br></pre></td></tr></table></figure></div>

<h2 id="apksignerç­¾å"><a href="#apksignerç­¾å" class="headerlink" title="apksignerç­¾å"></a>apksignerç­¾å</h2><blockquote>
<p>å¦‚æœä¸ç­¾åï¼Œå¯¼å‡ºçš„ apk æ— æ³•å®‰è£…; apksigner æ˜¯å®‰è£… Android SDK é»˜è®¤åŒ…å«çš„ tool</p>
</blockquote>
<ol>
<li>æ‰¾åˆ° SDK ç›®å½•ä½ç½®ï¼Œä»è€Œæ‰¾åˆ° apksigner çš„ä½ç½®<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-18-27-25.png"
                      alt="2025-01-03-18-27-25.png"
                ></li>
<li>å¯¹ä¿®æ”¹å®Œä»£ç çš„ apk è¿›è¡Œç­¾å</li>
</ol>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">./apksigner sign --ks /Users/topjoy/tools/apktool/jiaheqi.jks  --out /Users/topjoy/tools/apktool/signedzeusdemo.apk /Users/topjoy/tools/apktool/zeusdemonew.apk</span><br></pre></td></tr></table></figure></div>

<p>å¦‚æœæ²¡æœ‰ jks ç­¾åæ–‡ä»¶éœ€è¦ç”Ÿæˆä¸€ä¸ªï¼Œç”Ÿæˆçš„æ—¶å€™å¯ä»¥å€ŸåŠ© Android Studio ç”Ÿæˆï¼ˆä¹Ÿå¯ä»¥é€šè¿‡ apksigner çš„å‘½ä»¤ç”Ÿæˆï¼‰<br>æ‰“å¼€ Build-Generate Signed App Bundle or APK-é€‰æ‹© APK-Next-Create newï¼Œå¯ä»¥åˆ›å»ºæ–°çš„ç­¾åæ–‡ä»¶<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-18-28-43.png"
                      alt="2025-01-03-18-28-43.png"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-18-28-49.png"
                      alt="2025-01-03-18-28-49.png"
                ><br>3. ç­¾ååçš„ APK å®‰è£…åå¯ä»¥æ­£å¸¸è¿è¡Œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>c# ä¸­ method new å’Œ overide çš„å·®å¼‚</title>
    <url>/2025/01/03/c-%E4%B8%AD-method-new-%E5%92%8C-overide-%E7%9A%84%E5%B7%AE%E5%BC%82/</url>
    <content><![CDATA[<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-12-55-10.png"
                      alt="001"
                ></p>
<h2 id="newä½¿ç”¨"><a href="#newä½¿ç”¨" class="headerlink" title="newä½¿ç”¨"></a>newä½¿ç”¨</h2><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Message from BaseClass&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DerivedClass</span> : <span class="title">BaseClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ new éšè—åŸºç±»ä¸­çš„ ShowMessage æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">new</span> <span class="keyword">void</span> <span class="title">ShowMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Message from DerivedClass&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        BaseClass baseObj = <span class="keyword">new</span> BaseClass();</span><br><span class="line">        baseObj.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from BaseClass</span></span><br><span class="line">        </span><br><span class="line">        DerivedClass derivedObj = <span class="keyword">new</span> DerivedClass();</span><br><span class="line">        derivedObj.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from DerivedClass</span></span><br><span class="line">        </span><br><span class="line">        BaseClass baseRef = <span class="keyword">new</span> DerivedClass();</span><br><span class="line">        baseRef.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from BaseClassï¼ˆåŸºç±»æ–¹æ³•è¢«è°ƒç”¨ï¼Œå› ä¸ºå®ƒä½¿ç”¨åŸºç±»å¼•ç”¨ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h2 id="overideä½¿ç”¨"><a href="#overideä½¿ç”¨" class="headerlink" title="overideä½¿ç”¨"></a>overideä½¿ç”¨</h2><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">ShowMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Message from BaseClass&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DerivedClass</span> : <span class="title">BaseClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ override é‡å†™åŸºç±»çš„ ShowMessage æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ShowMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Message from DerivedClass&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        BaseClass baseObj = <span class="keyword">new</span> BaseClass();</span><br><span class="line">        baseObj.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from BaseClass</span></span><br><span class="line">        </span><br><span class="line">        DerivedClass derivedObj = <span class="keyword">new</span> DerivedClass();</span><br><span class="line">        derivedObj.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from DerivedClass</span></span><br><span class="line">        </span><br><span class="line">        BaseClass baseRef = <span class="keyword">new</span> DerivedClass();</span><br><span class="line">        baseRef.ShowMessage();  <span class="comment">// è¾“å‡ºï¼šMessage from DerivedClassï¼ˆè°ƒç”¨æ´¾ç”Ÿç±»çš„æ–¹æ³•ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>c#</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/12/31/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a class="link"   href="https://hexo.io/" >Hexo<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>! This is your very first post. Check <a class="link"   href="https://hexo.io/docs/" >documentation<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> for more info. If you get any problems when using Hexo, you can find the answer in <a class="link"   href="https://hexo.io/docs/troubleshooting.html" >troubleshooting<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> or you can ask me on <a class="link"   href="https://github.com/hexojs/hexo/issues" >GitHub<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/writing.html" >Writing<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/server.html" >Server<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo generate or hexo g</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/generating.html" >Generating<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">hexo deploy or hexo d</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/one-command-deployment.html" >Deployment<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>å¯¹å¯¹ç¢°æ¸¸æˆæ¦‚ç‡è®¡ç®—</title>
    <url>/2025/01/03/%E5%AF%B9%E5%AF%B9%E7%A2%B0%E6%B8%B8%E6%88%8F%E6%A6%82%E7%8E%87%E8%AE%A1%E7%AE%97/</url>
    <content><![CDATA[<h2 id="ğŸ®æ¸¸æˆè§„åˆ™"><a href="#ğŸ®æ¸¸æˆè§„åˆ™" class="headerlink" title="ğŸ®æ¸¸æˆè§„åˆ™"></a>ğŸ®æ¸¸æˆè§„åˆ™</h2><ol>
<li>ç‰Œå †åŒ…å« 1-9 æ¯ä¸ªæ•°å­— 5 å¼ ï¼Œä»¥åŠä¸€å¼  luck è¿æ°”ç‰Œï¼Œæ€»å…± 46 å¼ ç‰Œï¼›</li>
<li>æ¸¸æˆå¼€å§‹ï¼Œé€‰æ‹©ä¸€ä¸ªè®¸æ„¿æ•°å­—ï¼Œåˆå§‹åŒ–æ¸¸æˆåŒºä»ç‰Œå †éšæœºæŠ½å– 9 å¼ ç‰Œï¼ŒæŠ½èµ°åï¼Œç‰Œå †éœ€è¦å»é™¤è¿™9å¼ ç‰Œï¼›</li>
<li>æ¸¸æˆåŒºæ¯æ¬¡åŒ¹é…2å¼ ç›¸åŒæ•°å­—çš„ç‰Œï¼Œå¾— 1 åˆ†ï¼Œç§»é™¤åŒ¹é…ç‰Œå¹¶ä»ç‰Œå †æŠ½å–è¡¥å…… 1 å¼ æ–°ç‰Œï¼Œéšæœºè¡¥å……çš„ç‰Œæ˜¯å¯èƒ½å’Œæ¸¸æˆåŒºçš„æ•°å­—ç›¸åŒçš„ï¼›</li>
<li>å¦‚æœæ¸¸æˆåŒºå‡ºç°luckè¿æ°”ç‰Œåˆ™ä»ç‰Œå †æŠ½å–è¡¥å…… 3 å¼ æ–°ç‰Œï¼Œè¡¥å……çš„3å¼ ç‰Œä¹‹é—´å¯èƒ½ç›¸åŒï¼Œä¹Ÿå¯èƒ½ä¸åŒï¼Œè¡¥å……çš„3å¼ ç‰Œæ˜¯å¯èƒ½å’Œæ¸¸æˆåŒºçš„æ•°å­—ç›¸åŒçš„ï¼›</li>
<li>å¦‚æœæ¸¸æˆåŒºå‡ºç°è®¸æ„¿æ•°å­—ï¼ŒåŒ¹é…2å¼ è¯¥è®¸æ„¿æ•°å­—çš„ç‰Œåï¼Œä¸ä»…è¡¥å…… 1 å¼ ç‰Œï¼Œè¿˜è¦ä»ç‰Œå †æŠ½å–è¡¥å…… 2 å¼ é¢å¤–çš„ç‰Œï¼Œæ€»å…±ä»ç‰Œå †æŠ½å–è¡¥å…… 3 å¼ ï¼›</li>
<li>å¦‚æœæœ€ç»ˆå¾—åˆ†å¤§äºç­‰äº5ï¼Œé‚£ä¹ˆå†ä»ç‰Œå †æŠ½å–1å¼ ï¼Œå¦‚æœå‡ºç°åŒ¹é…2å¼ ç›¸åŒæ•°å­—çš„ç‰Œï¼Œåˆ™é‡å¤ä¸Šè¿°æ“ä½œï¼Œç„¶åå†è®¡ç®—æœ€ç»ˆå¾—åˆ†ï¼›</li>
<li>è®°å½•æ¯æ¬¡æ¨¡æ‹Ÿå¾—åˆ°æœ€é«˜å¾—åˆ†ï¼Œå¹¶è®°å½•å¾—åˆ°æœ€é«˜å¾—åˆ†æ—¶çš„åŒ¹é…å’Œè¡¥å……ç‰Œçš„è¯¦æƒ…ï¼›</li>
<li>æ¯æ¬¡æ¨¡æ‹Ÿæ¬¡æ•°1wæ¬¡ï¼›</li>
<li>æœ€åç»Ÿè®¡æ¯ä¸ªåˆ†å€¼å‡ºç°æ¬¡æ•°ï¼Œå¹¶ç”Ÿæˆæ­£æ€åˆ†å¸ƒå›¾ã€‚</li>
</ol>
<h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h2><div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–ç‰Œå †ï¼šåŒ…å«1-9æ¯ä¸ªæ•°å­—5å¼ ï¼Œä»¥åŠ1å¼ luckè¿æ°”ç‰Œ</span></span><br><span class="line">deck = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)] + [<span class="string">&#x27;luck&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(deck)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§„åˆ™å‚æ•°</span></span><br><span class="line">initial_game_zone_size = <span class="number">9</span>  <span class="comment"># åˆå§‹æ¸¸æˆåŒºçš„ç‰Œæ•°</span></span><br><span class="line">max_card_count = <span class="number">5</span>  <span class="comment"># æ¯ä¸ªæ•°å­—å‡ºç°çš„æœ€å¤§æ¬¡æ•°</span></span><br><span class="line">max_luck_count = <span class="number">1</span>  <span class="comment"># è¿æ°”ç‰Œæœ€å¤§å‡ºç°æ¬¡æ•°</span></span><br><span class="line">max_total_cards = <span class="number">46</span>  <span class="comment"># æ€»ç‰Œæ•°ä¸Šé™</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸¸æˆåŒºçš„åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">draw_initial_game_zone</span>():</span><br><span class="line">    <span class="built_in">print</span>(random.sample(deck, initial_game_zone_size))</span><br><span class="line">    <span class="keyword">return</span> random.sample(deck, initial_game_zone_size)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»ç‰Œå †ä¸­éšæœºæŠ½å–ç‰Œ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">draw_from_deck</span>(<span class="params">deck, total_counter</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> deck:  <span class="comment"># æ£€æŸ¥ç‰Œå †æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&quot;ç‰Œå †å·²ç©ºï¼Œæ— æ³•ç»§ç»­æŠ½ç‰Œï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¿å…è¿åè§„åˆ™ï¼šæ£€æŸ¥æ¯ä¸ªæ•°å­—å’Œè¿æ°”ç‰Œçš„æ•°é‡</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        card = random.choice(deck)  <span class="comment"># é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä¸åšåˆ é™¤</span></span><br><span class="line">        total_counter.update([card])</span><br><span class="line">        <span class="comment"># ç»Ÿè®¡æ¸¸æˆåŒºä¸­æ¯ä¸ªå¡ç‰Œçš„æ•°é‡</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(card, <span class="built_in">int</span>) <span class="keyword">and</span> total_counter[card] &gt; max_card_count:</span><br><span class="line">            <span class="keyword">continue</span>  <span class="comment"># å¦‚æœè¯¥æ•°å­—çš„å‡ºç°æ¬¡æ•°å·²è¾¾åˆ°ä¸Šé™ï¼Œç»§ç»­é€‰æ‹©</span></span><br><span class="line">        <span class="keyword">elif</span> card == <span class="string">&#x27;luck&#x27;</span> <span class="keyword">and</span> total_counter[<span class="string">&#x27;luck&#x27;</span>] &gt; max_luck_count:</span><br><span class="line">            <span class="keyword">continue</span>  <span class="comment"># å¦‚æœè¿æ°”ç‰Œå·²è¾¾åˆ°ä¸Šé™ï¼Œç»§ç»­é€‰æ‹©</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(deck) &gt; max_total_cards:</span><br><span class="line">            <span class="keyword">continue</span>  <span class="comment"># å¦‚æœæ€»ç‰Œæ•°è¶…å‡ºä¸Šé™ï¼Œç»§ç»­é€‰æ‹©</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä¸€æ—¦é€‰ä¸­ç¬¦åˆæ¡ä»¶çš„å¡ç‰Œï¼Œå°±å¯ä»¥è¿”å›</span></span><br><span class="line">        deck.remove(card)  <span class="comment"># ä»æ’å †æ‹¿èµ°æŠ½èµ°çš„ç‰Œ</span></span><br><span class="line">        <span class="keyword">return</span> card</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œæ¸¸æˆ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">play_game</span>():</span><br><span class="line">    score = <span class="number">0</span></span><br><span class="line">    deck_copy = deck.copy()  <span class="comment"># å‰¯æœ¬ç”¨æ¥æ¨¡æ‹Ÿæ¸¸æˆ</span></span><br><span class="line">    <span class="comment"># ç”¨äºç»Ÿè®¡æ‰€æœ‰æ›¾ç»å‡ºç°è¿‡çš„å¡ç‰‡çš„æ€»æ¬¡æ•°</span></span><br><span class="line">    game_zone = draw_initial_game_zone()  <span class="comment"># éšæœºæŠ½å–9å¼ ç‰Œ</span></span><br><span class="line">    game_zone_counter = Counter(game_zone)</span><br><span class="line">    <span class="comment"># ç”¨äºç»Ÿè®¡æ‰€æœ‰æ›¾ç»å‡ºç°è¿‡çš„å¡ç‰‡çš„æ€»æ¬¡æ•°</span></span><br><span class="line">    total_counter = Counter(game_zone)  <span class="comment"># è®¡ç®—æ¯ä¸ªæ•°å­—åœ¨æ¸¸æˆåŒºä¸­çš„æ•°é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># éšæœºé€‰æ‹©è®¸æ„¿æ•°å­—ï¼ŒèŒƒå›´ä»1åˆ°9</span></span><br><span class="line">    wish_number = random.choice(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æœ¬è½®æ¸¸æˆçš„è®¸æ„¿æ•°å­—æ˜¯: <span class="subst">&#123;wish_number&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;åˆå§‹æ¸¸æˆåŒº: <span class="subst">&#123;game_zone&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">    draw_sequence = []</span><br><span class="line">    game_zone_history = []  <span class="comment"># ç”¨äºè®°å½•æ¸¸æˆåŒºæ¯æ¬¡çš„å˜åŒ–</span></span><br><span class="line">    card_additions = []  <span class="comment"># ç”¨äºè®°å½•æ¯ä¸€æ­¥è¡¥å……äº†å“ªäº›ç‰Œä»¥åŠè¡¥å……çš„åŸå› </span></span><br><span class="line">    current_total_counter = []</span><br><span class="line">    additional_card_step = <span class="literal">None</span>  <span class="comment"># ç”¨äºæ ‡è®°å“ªä¸€æ­¥å› ä¸ºå¾—åˆ†å¤§äºç­‰äº5è€Œå¢åŠ äº†ä¸€å¼ ç‰Œ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">any</span>(count &gt;= <span class="number">2</span> <span class="keyword">for</span> count <span class="keyword">in</span> game_zone_counter.values()):  <span class="comment"># æ¸¸æˆç»§ç»­ç›´åˆ°æ²¡æœ‰å¯åŒ¹é…çš„ç‰Œ</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å½“å‰æ¸¸æˆåŒº: <span class="subst">&#123;game_zone&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å½“å‰å¾—åˆ†: <span class="subst">&#123;score&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®°å½•å½“å‰æ¸¸æˆåŒºçš„çŠ¶æ€</span></span><br><span class="line">        game_zone_history.append(game_zone.copy())</span><br><span class="line">        current_total_counter.append(total_counter.copy())</span><br><span class="line">        <span class="comment"># æŸ¥æ‰¾æ˜¯å¦æœ‰å¯ä»¥åŒ¹é…çš„æ•°å­—ï¼ˆæ•°é‡å¤§äºç­‰äº2ï¼‰</span></span><br><span class="line">        matched = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> number, count <span class="keyword">in</span> game_zone_counter.items():</span><br><span class="line">            <span class="keyword">if</span> count &gt;= <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;åŒ¹é…æ•°å­— <span class="subst">&#123;number&#125;</span>ï¼Œå¾—åˆ† +1&quot;</span>)</span><br><span class="line">                <span class="comment"># è®°å½•éœ€è¦åˆ é™¤çš„ç´¢å¼•</span></span><br><span class="line">                to_remove_indices = []</span><br><span class="line">                <span class="comment"># ç¡®ä¿åªç§»é™¤å‰ä¸¤ä¸ª</span></span><br><span class="line">                removed_count = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i, card <span class="keyword">in</span> <span class="built_in">enumerate</span>(game_zone):</span><br><span class="line">                    <span class="keyword">if</span> card == number <span class="keyword">and</span> removed_count &lt; <span class="number">2</span>:</span><br><span class="line">                        to_remove_indices.append(i)</span><br><span class="line">                        removed_count += <span class="number">1</span></span><br><span class="line">                        <span class="keyword">if</span> removed_count == <span class="number">2</span>:</span><br><span class="line">                            <span class="keyword">break</span>  <span class="comment"># å·²ç»ç§»é™¤ä¸¤ä¸ªï¼Œè·³å‡ºå¾ªç¯</span></span><br><span class="line">                <span class="comment"># åˆ é™¤è®°å½•çš„å¡ç‰Œ</span></span><br><span class="line">                <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">sorted</span>(to_remove_indices, reverse=<span class="literal">True</span>):  <span class="comment"># åå‘åˆ é™¤é¿å…ç´¢å¼•å˜åŒ–</span></span><br><span class="line">                    game_zone.pop(index)</span><br><span class="line"></span><br><span class="line">                score += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># å¤„ç†è¡¥å……ç‰Œçš„éƒ¨åˆ†ï¼Œç¡®ä¿æ¯æ¬¡åªè¡¥å……3å¼ ç‰Œ</span></span><br><span class="line">                <span class="keyword">if</span> number == wish_number:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;è®¸æ„¿æ•°å­— <span class="subst">&#123;number&#125;</span> åŒ¹é…æˆåŠŸï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>)</span><br><span class="line">                    added_cards = []  <span class="comment"># ç”¨æ¥è®°å½•è¡¥å……çš„å¡ç‰Œ</span></span><br><span class="line">                    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                        new_card = draw_from_deck(deck_copy, total_counter)</span><br><span class="line">                        game_zone.append(new_card)  <span class="comment"># å°†æ–°å¡åŠ å…¥æ¸¸æˆåŒº</span></span><br><span class="line">                        added_cards.append(new_card)  <span class="comment"># å°†æ–°å¡åŠ å…¥è®°å½•çš„è¡¥å……å¡ç‰Œåˆ—è¡¨</span></span><br><span class="line">                        draw_sequence.append(new_card)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">                    card_additions.append((added_cards, <span class="string">f&quot;è®¸æ„¿æ•°å­— <span class="subst">&#123;number&#125;</span> åŒ¹é…æˆåŠŸï¼Œè¡¥å……3å¼ ç‰Œ:<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;è¡¥å……1å¼ ç‰Œåˆ°æ¸¸æˆåŒº&quot;</span>)</span><br><span class="line">                    added_cards = [draw_from_deck(deck_copy, total_counter)]</span><br><span class="line">                    game_zone.extend(added_cards)  <span class="comment"># æ‰©å±•æ¸¸æˆåŒºï¼Œæ·»åŠ 1å¼ ç‰Œ</span></span><br><span class="line">                    card_additions.append((added_cards, <span class="string">f&quot;åŒ¹é…æ•°å­— <span class="subst">&#123;number&#125;</span>ï¼Œè¡¥å……1å¼ ç‰Œ<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">                    draw_sequence.extend(added_cards)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåºå……1å¼ ç‰Œ&quot;))</span></span><br><span class="line"></span><br><span class="line">                matched = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span>  <span class="comment"># åœ¨ä¸€è½®ä¸­åŒ¹é…ä¸€å¯¹å³å¯</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¦‚æœæŠ½åˆ°è¿æ°”ç‰Œï¼Œè¡¥å……3å¼ æ–°ç‰Œ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;luck&#x27;</span> <span class="keyword">in</span> game_zone:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;è¿æ°”ç‰Œè§¦å‘ï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>)</span><br><span class="line">            game_zone.remove(<span class="string">&#x27;luck&#x27;</span>)</span><br><span class="line">            added_cards = []</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                new_card = draw_from_deck(deck_copy, total_counter)</span><br><span class="line">                game_zone.append(new_card)</span><br><span class="line">                added_cards.append(new_card)</span><br><span class="line">                draw_sequence.append(new_card)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">            card_additions.append((added_cards, <span class="string">&quot;è¿æ°”ç‰Œè§¦å‘ï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›´æ–°game_zone_counter</span></span><br><span class="line">        game_zone_counter = Counter(game_zone)</span><br><span class="line">        <span class="built_in">print</span>(game_zone_counter)</span><br><span class="line">        <span class="comment"># å¦‚æœæ²¡æœ‰åŒ¹é…çš„ç‰Œå¹¶ä¸”æ²¡æœ‰è¿æ°”ç‰Œï¼Œç»“æŸæ¸¸æˆ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> matched <span class="keyword">and</span> <span class="string">&#x27;luck&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> game_zone:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æ­£å¸¸æ¸¸æˆç»“æŸï¼æœ€ç»ˆå¾—åˆ†ï¼š<span class="subst">&#123;score&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="comment"># è®°å½•æ­£å¸¸æ¸¸æˆç»“æŸåæ¸¸æˆåŒº</span></span><br><span class="line">    game_zone_history.append(game_zone.copy())</span><br><span class="line">    current_total_counter.append(total_counter.copy())</span><br><span class="line">    <span class="comment"># é¢å¤–è§„åˆ™ï¼šå¦‚æœå¾—åˆ†å¤§äºç­‰äº5ï¼Œå¹¶ä¸”ç‰Œå †ä¸­è¿˜æœ‰ç‰Œï¼Œç»§ç»­æŠ½ä¸€å¼ ç‰Œ</span></span><br><span class="line">    <span class="keyword">if</span> score &gt;= <span class="number">5</span> <span class="keyword">and</span> deck_copy:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¾—åˆ†å¤§äºç­‰äº5ï¼Œå¥¶ä¸€å£ç»§ç»­ä»ç‰Œå †ä¸­æŠ½ä¸€å¼ ç‰Œå¹¶è®¡ç®—æ–°çš„å¾—åˆ†ã€‚&quot;</span>)</span><br><span class="line">        <span class="comment"># new_card = draw_from_deck(deck_copy, total_counter)</span></span><br><span class="line">        <span class="comment"># game_zone.append(new_card)</span></span><br><span class="line">        <span class="comment"># draw_sequence.append(new_card)  # è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">        <span class="comment"># additional_card_step = len(game_zone_history) + 1  # æ ‡è®°åœ¨å“ªä¸€æ­¥å¢åŠ äº†ä¸€å¼ ç‰Œ</span></span><br><span class="line">        <span class="comment"># print(f&quot;å¥¶ä¸€å£æ–°æŠ½å–çš„ç‰Œ: &#123;new_card&#125;&quot;)</span></span><br><span class="line">        added_cards = [draw_from_deck(deck_copy, total_counter)]</span><br><span class="line">        game_zone.extend(added_cards)  <span class="comment"># æ‰©å±•æ¸¸æˆåŒºï¼Œæ·»åŠ 1å¼ ç‰Œ</span></span><br><span class="line">        game_zone_history.append(game_zone.copy())</span><br><span class="line">        current_total_counter.append(total_counter.copy())</span><br><span class="line">        card_additions.append((added_cards, <span class="string">f&quot;æ»¡è¶³å¥¶ä¸€å£è§„åˆ™ï¼Œè¡¥å……1å¼ ç‰Œ<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">        draw_sequence.extend(added_cards)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåºå……1å¼ ç‰Œ&quot;))</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£æ–°æŠ½å–çš„ç‰Œ: <span class="subst">&#123;added_cards&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># é‡æ–°è®¡ç®—å¾—åˆ†</span></span><br><span class="line">        game_zone_counter = Counter(game_zone)</span><br><span class="line">        new_score = score</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æŸ¥æ‰¾å¥¶ä¸€å£åæ˜¯å¦æœ‰å¯ä»¥åŒ¹é…çš„æ•°å­—ï¼ˆæ•°é‡å¤§äºç­‰äº2ï¼‰</span></span><br><span class="line">        milk_matched = <span class="literal">False</span></span><br><span class="line">        <span class="comment"># æŸ¥æ‰¾æ˜¯å¦æœ‰å¯ä»¥åŒ¹é…çš„æ•°å­—ï¼ˆæ•°é‡å¤§äºç­‰äº2ï¼‰</span></span><br><span class="line">        <span class="keyword">for</span> number, count <span class="keyword">in</span> game_zone_counter.items():</span><br><span class="line">            <span class="keyword">if</span> count &gt;= <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£ååŒ¹é…æ•°å­— <span class="subst">&#123;number&#125;</span>ï¼Œå¾—åˆ† +1&quot;</span>)</span><br><span class="line">                <span class="comment"># è®°å½•éœ€è¦åˆ é™¤çš„ç´¢å¼•</span></span><br><span class="line">                to_remove_indices = []</span><br><span class="line">                <span class="comment"># ç¡®ä¿åªç§»é™¤å‰ä¸¤ä¸ª</span></span><br><span class="line">                removed_count = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i, card <span class="keyword">in</span> <span class="built_in">enumerate</span>(game_zone):</span><br><span class="line">                    <span class="keyword">if</span> card == number <span class="keyword">and</span> removed_count &lt; <span class="number">2</span>:</span><br><span class="line">                        to_remove_indices.append(i)</span><br><span class="line">                        removed_count += <span class="number">1</span></span><br><span class="line">                        <span class="keyword">if</span> removed_count == <span class="number">2</span>:</span><br><span class="line">                            <span class="keyword">break</span>  <span class="comment"># å·²ç»ç§»é™¤ä¸¤ä¸ªï¼Œè·³å‡ºå¾ªç¯</span></span><br><span class="line">                <span class="comment"># åˆ é™¤è®°å½•çš„å¡ç‰Œ</span></span><br><span class="line">                <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">sorted</span>(to_remove_indices, reverse=<span class="literal">True</span>):  <span class="comment"># åå‘åˆ é™¤é¿å…ç´¢å¼•å˜åŒ–</span></span><br><span class="line">                    game_zone.pop(index)</span><br><span class="line"></span><br><span class="line">                new_score += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># å¤„ç†è¡¥å……ç‰Œçš„éƒ¨åˆ†ï¼Œç¡®ä¿æ¯æ¬¡åªè¡¥å……3å¼ ç‰Œ</span></span><br><span class="line">                <span class="keyword">if</span> number == wish_number:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£åè®¸æ„¿æ•°å­— <span class="subst">&#123;number&#125;</span> åŒ¹é…æˆåŠŸï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>)</span><br><span class="line">                    added_cards = []  <span class="comment"># ç”¨æ¥è®°å½•è¡¥å……çš„å¡ç‰Œ</span></span><br><span class="line">                    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                        new_card = draw_from_deck(deck_copy, total_counter)</span><br><span class="line">                        game_zone.append(new_card)  <span class="comment"># å°†æ–°å¡åŠ å…¥æ¸¸æˆåŒº</span></span><br><span class="line">                        added_cards.append(new_card)  <span class="comment"># å°†æ–°å¡åŠ å…¥è®°å½•çš„è¡¥å……å¡ç‰Œåˆ—è¡¨</span></span><br><span class="line">                        draw_sequence.append(new_card)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">                    game_zone_history.append(game_zone.copy())</span><br><span class="line">                    current_total_counter.append(total_counter.copy())</span><br><span class="line">                    card_additions.append((added_cards, <span class="string">f&quot;å¥¶ä¸€å£åè®¸æ„¿æ•°å­— <span class="subst">&#123;number&#125;</span> åŒ¹é…æˆåŠŸï¼Œè¡¥å……3å¼ ç‰Œ:<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£åè¡¥å……1å¼ ç‰Œåˆ°æ¸¸æˆåŒº&quot;</span>)</span><br><span class="line">                    added_cards = [draw_from_deck(deck_copy, total_counter)]</span><br><span class="line">                    game_zone.extend(added_cards)  <span class="comment"># æ‰©å±•æ¸¸æˆåŒºï¼Œæ·»åŠ 1å¼ ç‰Œ</span></span><br><span class="line">                    game_zone_history.append(game_zone.copy())</span><br><span class="line">                    current_total_counter.append(total_counter.copy())</span><br><span class="line">                    card_additions.append((added_cards, <span class="string">f&quot;å¥¶ä¸€å£ååŒ¹é…æ•°å­— <span class="subst">&#123;number&#125;</span>ï¼Œè¡¥å……1å¼ ç‰Œ<span class="subst">&#123;added_cards&#125;</span>&quot;</span>))</span><br><span class="line">                    draw_sequence.extend(added_cards)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåºå……1å¼ ç‰Œ&quot;))</span></span><br><span class="line"></span><br><span class="line">                milk_matched = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span>  <span class="comment"># åœ¨ä¸€è½®ä¸­åŒ¹é…ä¸€å¯¹å³å¯</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¦‚æœæŠ½åˆ°è¿æ°”ç‰Œï¼Œè¡¥å……3å¼ æ–°ç‰Œ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;luck&#x27;</span> <span class="keyword">in</span> game_zone:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;å¥¶ä¸€å£åè¿æ°”ç‰Œè§¦å‘ï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>)</span><br><span class="line">            game_zone.remove(<span class="string">&#x27;luck&#x27;</span>)</span><br><span class="line">            added_cards = []</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                new_card = draw_from_deck(deck_copy, total_counter)</span><br><span class="line">                game_zone.append(new_card)</span><br><span class="line">                added_cards.append(new_card)</span><br><span class="line">                draw_sequence.append(new_card)  <span class="comment"># è®°å½•æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">            game_zone_history.append(game_zone.copy())</span><br><span class="line">            current_total_counter.append(total_counter.copy())</span><br><span class="line">            card_additions.append((added_cards, <span class="string">&quot;å¥¶ä¸€å£åè¿æ°”ç‰Œè§¦å‘ï¼Œè¡¥å……3å¼ ç‰Œ&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›´æ–°game_zone_counter</span></span><br><span class="line">        game_zone_counter = Counter(game_zone)</span><br><span class="line">        <span class="built_in">print</span>(game_zone_counter)</span><br><span class="line">        <span class="comment"># å¦‚æœæ²¡æœ‰åŒ¹é…çš„ç‰Œå¹¶ä¸”æ²¡æœ‰è¿æ°”ç‰Œï¼Œç»“æŸæ¸¸æˆ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> milk_matched <span class="keyword">and</span> <span class="string">&#x27;luck&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> game_zone:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;å¥¶ä¸€å£åä¹Ÿæ— æ³•å†åŠ åˆ†&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å¥¶ä¸€å£ä¹‹åçš„æ–°å¾—åˆ†ï¼š<span class="subst">&#123;new_score&#125;</span>&quot;</span>)</span><br><span class="line">        score = new_score</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> score, draw_sequence, wish_number, game_zone_history,current_total_counter, card_additions, additional_card_step  <span class="comment"># è¿”å›å¾—åˆ†ã€æŠ½ç‰Œé¡ºåºã€è®¸æ„¿æ•°å­—å’Œå¢åŠ ç‰Œçš„æ­¥éª¤</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨¡æ‹Ÿå¤šæ¬¡æ¸¸æˆï¼Œè®¡ç®—ä¸åŒåˆ†æ•°å‡ºç°çš„é¢‘ç‡</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">monte_carlo_simulation</span>(<span class="params">num_simulations=<span class="number">500000</span></span>):</span><br><span class="line">    highest_score = <span class="number">0</span></span><br><span class="line">    highest_score_sequence = []  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶çš„æŠ½ç‰Œé¡ºåº</span></span><br><span class="line">    highest_wish_number = <span class="literal">None</span>  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶çš„è®¸æ„¿æ•°å­—</span></span><br><span class="line">    highest_game_zone_history = []  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶çš„æ¸¸æˆåŒºå˜åŒ–</span></span><br><span class="line">    highest_current_total_counter = []</span><br><span class="line">    highest_card_additions = []  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶çš„æ¯æ­¥ç‰Œè¡¥å……è¯¦æƒ…</span></span><br><span class="line">    highest_additional_card_step = <span class="literal">None</span>  <span class="comment"># è®°å½•æœ€é«˜å¾—åˆ†æ—¶å¢åŠ ç‰Œçš„æ­¥éª¤</span></span><br><span class="line">    scores = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num_simulations):</span><br><span class="line">        score, draw_sequence, wish_number, game_zone_history, current_total_counter,card_additions, additional_card_step = play_game()</span><br><span class="line">        scores.append(score)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è·Ÿè¸ªæœ€é«˜å¾—åˆ†çš„æ¨¡æ‹Ÿ</span></span><br><span class="line">        <span class="keyword">if</span> score &gt; highest_score:</span><br><span class="line">            highest_score = score</span><br><span class="line">            highest_score_sequence = draw_sequence</span><br><span class="line">            highest_wish_number = wish_number</span><br><span class="line">            highest_game_zone_history = game_zone_history</span><br><span class="line">            highest_current_total_counter  = current_total_counter</span><br><span class="line">            highest_card_additions = card_additions</span><br><span class="line">            highest_additional_card_step = additional_card_step</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç»˜åˆ¶å¾—åˆ†åˆ†å¸ƒ</span></span><br><span class="line">    plt.hist(scores, bins=<span class="built_in">range</span>(<span class="built_in">min</span>(scores), <span class="built_in">max</span>(scores) + <span class="number">1</span>), edgecolor=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;å¾—åˆ†&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;å‡ºç°æ¬¡æ•°&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">f&#x27;æ¸¸æˆå¾—åˆ†åˆ†å¸ƒï¼ˆæ¨¡æ‹Ÿ <span class="subst">&#123;num_simulations&#125;</span> æ¬¡ï¼‰&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> highest_score, highest_score_sequence, highest_wish_number, highest_game_zone_history,highest_current_total_counter, highest_card_additions, highest_additional_card_step</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›è¡Œå¤šæ¬¡æ¨¡æ‹Ÿ</span></span><br><span class="line">highest_score, highest_score_sequence, highest_wish_number, highest_game_zone_history,highest_current_total_counter, highest_card_additions, highest_additional_card_step = monte_carlo_simulation()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†: <span class="subst">&#123;highest_score&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶çš„æŠ½ç‰Œé¡ºåº: <span class="subst">&#123;highest_score_sequence&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶çš„è®¸æ„¿æ•°å­—: <span class="subst">&#123;highest_wish_number&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æœ€é«˜å¾—åˆ†æ—¶çš„æ¸¸æˆåŒºå˜åŒ–</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶çš„æ¸¸æˆåŒºå˜åŒ–:&quot;</span>)</span><br><span class="line"><span class="comment"># for idx, history in enumerate(highest_game_zone_history, start=1):</span></span><br><span class="line"><span class="keyword">for</span> idx, (history, used_count) <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="built_in">zip</span>(highest_game_zone_history, highest_current_total_counter), start=<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æ­¥éª¤ <span class="subst">&#123;idx&#125;</span>: <span class="subst">&#123;history&#125;</span>ï¼Œå·²ç»ç”¨æ‰çš„å¡ç‰Œæ¬¡æ•°ï¼š<span class="subst">&#123;used_count&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æ¯æ­¥ç‰Œè¡¥å……çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶çš„æ¯æ­¥ç‰Œè¡¥å……è¯¦æƒ…:&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> idx, (cards, reason) <span class="keyword">in</span> <span class="built_in">enumerate</span>(highest_card_additions, start=<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æ­¥éª¤ <span class="subst">&#123;idx&#125;</span>: <span class="subst">&#123;reason&#125;</span> -&gt; è¡¥å……äº†: <span class="subst">&#123;cards&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœ€é«˜å¾—åˆ†æ—¶å¢åŠ ç‰Œçš„æ­¥éª¤: <span class="subst">&#123;highest_additional_card_step&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div>

<h2 id="æ¸¸æˆç»“æœ"><a href="#æ¸¸æˆç»“æœ" class="headerlink" title="æ¸¸æˆç»“æœ"></a>æ¸¸æˆç»“æœ</h2><p>æ­£æ€åˆ†å¸ƒå›¾<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-18-35-53.png"
                      alt="2025-01-03-18-35-53"
                ><br>æœ€é«˜å¾—åˆ†è®¡ç®—<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-03-18-36-26.png"
                      alt="2025-01-03-18-36-26.png"
                ></p>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>unitypackageç±»å‹æ–‡ä»¶è§£å‹,import,export</title>
    <url>/2025/01/07/unitypackage%E7%B1%BB%E5%9E%8B%E6%96%87%E4%BB%B6%E8%A7%A3%E5%8E%8B-import-export/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ç—›ç‚¹ï¼š</p>
<p>åœ¨ 2019 ç‰ˆæœ¬çš„ unity ç¼–è¾‘å™¨ä¸­ï¼Œä¼šå°† iOS ä¾èµ–çš„<code>.bundle</code>,<code>.framework</code>æ–‡ä»¶è¯†åˆ«ä¸ºä¸€ä¸ªç›®å½•çš„æ ¼å¼ï¼Œè€Œ 2022 ç‰ˆæœ¬çš„ unity ç¼–è¾‘å™¨ä¼šå°†å…¶è¯†åˆ«ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¯¼è‡´ç°å­˜çš„ export çš„è„šæœ¬æ— æ³•æ­£å¸¸å¯¼å‡ºè¿™ä¸¤ç§ç±»å‹çš„æ–‡ä»¶ï¼Œæœ€ç»ˆç”Ÿæˆçš„ unitypackage æ–‡ä»¶ä¸­ä¼šç¼ºå°‘<code>.bundle</code>,<code>.framework</code></p>
<p>è§£å†³åŠæ³•ï¼š</p>
<p>æŸ¥è¯¢å’Œ GPT æ— æœåå†³å®šä½¿ç”¨æœ€ç®€å•çš„æ–¹å¼ï¼ŒæŠŠ<code>.bundle</code>,<code>.framework</code>æ–‡ä»¶ä½œä¸ºä¸€ä¸ªæ–‡ä»¶ç±»å‹å¯¼å‡ºã€‚</p>
<h2 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h2><p>æºä»£ç </p>
<div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">string</span> packageName = <span class="string">&quot;ZeusSDK.unitypackage&quot;</span>;</span><br><span class="line"><span class="comment">//éœ€è¦æ·»åŠ åˆ°unitypackageçš„ç›®å½•</span></span><br><span class="line"><span class="built_in">string</span>[] dirs = <span class="keyword">new</span> <span class="built_in">string</span>[]</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;Adjust&quot;</span>, <span class="string">&quot;Editor&quot;</span>, <span class="string">&quot;ExternalDependencyManager&quot;</span>, <span class="string">&quot;GravityEngine&quot;</span>, <span class="string">&quot;Resources&quot;</span>,</span><br><span class="line">    <span class="string">&quot;ThinkingAnalytics&quot;</span>, <span class="string">&quot;WebGLTemplates&quot;</span>, <span class="string">&quot;WX-WASM-SDK-V2&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line">locationPathName += <span class="string">&quot;/&quot;</span> + packageName; </span><br><span class="line"><span class="comment">//éœ€è¦æ‰“åŒ…çš„èµ„æº</span></span><br><span class="line">List&lt;Object&gt; objs = <span class="keyword">new</span> List&lt;Object&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//éœ€è¦æ‰“åŒ…çš„èµ„æºçš„è·¯å¾„</span></span><br><span class="line">List&lt;<span class="built_in">string</span>[]&gt; assets = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>[]&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="built_in">string</span> dir <span class="keyword">in</span> dirs)</span><br><span class="line">&#123;</span><br><span class="line">    Debug.Log(<span class="string">$&quot;dir:<span class="subst">&#123;dir&#125;</span>&quot;</span>);</span><br><span class="line">    assets.Add(Directory.GetFiles(Application.dataPath + <span class="string">&quot;/&quot;</span> + dir, <span class="string">&quot;*&quot;</span>, SearchOption.AllDirectories));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¾ªç¯éå†æ¯ä¸€ä¸ªè·¯å¾„ï¼Œå•ç‹¬åŠ è½½</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; assets.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">string</span> strPath <span class="keyword">in</span> assets[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> strTempPath = strPath;</span><br><span class="line">        <span class="comment">//æˆªå–æˆ‘ä»¬éœ€è¦çš„ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">        strTempPath = strTempPath.Substring(strTempPath.IndexOf(<span class="string">&quot;Assets&quot;</span>));</span><br><span class="line">        <span class="comment">//è¿‡æ»¤metaæ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (strTempPath.EndsWith(<span class="string">&quot;.meta&quot;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ ¹æ®è·¯å¾„åŠ è½½èµ„æº</span></span><br><span class="line">        Object obj = AssetDatabase.LoadAssetAtPath(strTempPath, <span class="keyword">typeof</span>(Object));</span><br><span class="line">        objs.Add(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> assetPathNames = <span class="keyword">new</span> <span class="built_in">string</span>[objs.Count];</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æ¯ä¸ªèµ„æºçš„ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; assetPathNames.Length; i++)</span><br><span class="line">&#123;</span><br><span class="line">    assetPathNames[i] = AssetDatabase.GetAssetPath(objs[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è·å–ä¸èµ„æºæœ‰ä¾èµ–å…³ç³»çš„æ‰€æœ‰èµ„æºåˆ—è¡¨</span></span><br><span class="line">assetPathNames = AssetDatabase.GetDependencies(assetPathNames);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’é™¤é¡¹ç›®æœ‰å¯èƒ½ç”Ÿæˆçš„æ–‡ä»¶ï¼Œé˜²æ­¢ä¸é¡¹ç›®å†²çªï¼Œä½¿ç”¨æ–‡æ¡£æŒ‡å¯¼é…ç½®è¿‡ç¨‹</span></span><br><span class="line"><span class="built_in">string</span> androidRoot = <span class="string">&quot;Assets/Plugins/Android/&quot;</span>;</span><br><span class="line"></span><br><span class="line">List&lt;<span class="built_in">string</span>&gt; excludeFiles = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;&#123;</span><br><span class="line">    <span class="string">&quot;Assets/Editor/ExportPackage.cs&quot;</span>,</span><br><span class="line">    androidRoot + <span class="string">&quot;baseProjectTemplate.gradle&quot;</span>,</span><br><span class="line">    androidRoot + <span class="string">&quot;launcherTemplate.gradle&quot;</span>,</span><br><span class="line">    androidRoot + <span class="string">&quot;mainTemplate.gradle&quot;</span>,</span><br><span class="line">    androidRoot + <span class="string">&quot;gradleTemplate.properties&quot;</span>,</span><br><span class="line">    androidRoot + <span class="string">&quot;LauncherManifest.xml&quot;</span>,</span><br><span class="line">    androidRoot + <span class="string">&quot;AndroidManifest.xml&quot;</span>,</span><br><span class="line">    androidRoot + <span class="string">&quot;google-services.json&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Assets/Plugins/iOS/ZeusSDK/ZeusSDKInfo.plist&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Assets/Plugins/iOS/ZeusSDK/GoogleService-Info.plist&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">List&lt;<span class="built_in">string</span>&gt; exportAssets = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span>(<span class="built_in">string</span> assetPath <span class="keyword">in</span> assetPathNames)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!excludeFiles.Contains(assetPath))&#123;</span><br><span class="line">        exportAssets.Add(assetPath);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰“åŒ…Package æœ€åä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯:å¯¼å‡ºæ“ä½œå°†å¼‚æ­¥è¿è¡Œï¼Œåœ¨å¯¼å‡ºå®Œæˆä¹‹ååœ¨æ–‡ä»¶æµè§ˆçª—å£æ˜¾ç¤ºå¯¼å‡ºåŒ…æ–‡ä»¶ | å°†é€šè¿‡ä»»ä½•å­ç›®å½•åˆ—è¡¨é€’å½’å¹¶åŒ…å«æ‰€æœ‰èµ„æº | é™¤äº†åˆ—å‡ºçš„èµ„äº§è·¯å¾„ï¼Œæ‰€æœ‰ç›¸å…³èµ„äº§å°†è¢«åŒ…æ‹¬åœ¨å†…</span></span><br><span class="line">AssetDatabase.ExportPackage(exportAssets.ToArray(), locationPathName, ExportPackageOptions.Recurse | ExportPackageOptions.IncludeDependencies);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<ol>
<li>è°ƒç”¨<code>Directory.GetFiles</code>å»éå†æ‰€æœ‰çš„ç›®å½•ï¼Œå¯¹äº<code>.bundle</code>,<code>.framework</code>æ–‡ä»¶ï¼Œ<code>Directory.GetFiles</code>å¯ä»¥è¯†åˆ«ä¸ºç›®å½•ï¼Œå¹¶ä¸”æ‰¾åˆ°ä¸‹é¢çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶</li>
<li>ä½†æ˜¯å¯¹äº<code>AssetDatabase.LoadAssetAtPath</code>æ— æ³•å°†è·¯å¾„ä¸­åŒ…å«<code>.bundle</code>,<code>.framework</code>çš„æ–‡ä»¶è¯†åˆ«ä¸ºä¸€ä¸ªobjejectï¼Œé‚£ä¹ˆå¯¼è‡´æ·»åŠ åˆ° objs ä¸­çš„éƒ½æ˜¯ null</li>
<li>ä»è€Œå¯¼è‡´<code>AssetDatabase.GetAssetPath</code>å»è·å–è·¯å¾„çš„æ—¶å€™æ— æ³•è·å–åˆ°ï¼Œæœ€ç»ˆå¯¼è‡´<code>AssetDatabase.ExportPackage</code>å¯¼å‡ºçš„unitypackage ä¸­ç¼ºå°‘è·¯å¾„ä¸­åŒ…å« <code>.bundle</code>,<code>.framework</code>çš„æ–‡ä»¶</li>
</ol>
<h2 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h2><ol>
<li>åˆšå¼€å§‹æƒ³çœ‹çœ‹æœ‰æ²¡æœ‰äººé‡åˆ°ç±»ä¼¼é—®é¢˜ä»¥åŠè§£å†³ï¼Œä½†æ˜¯æ²¡å‘ç°æœ‰äººé—®ç±»ä¼¼çš„é—®é¢˜</li>
<li>ç„¶åçœ‹äº†ä¸€ä¸‹ unity å®˜æ–¹ api æ–‡æ¡£ï¼Œä¹Ÿæ²¡æœ‰é’ˆå¯¹äº .bundle, .framework æ–‡ä»¶çš„ç‰¹æ®Šå¤„ç†</li>
<li>æ‰€ä»¥æœ€ç»ˆå†³å®šç”¨æœ€ç²—æš´çš„æŠŠè·¯å¾„åä¸­åŒ…å«<code>.bundle</code>,<code>.framework</code>çš„æ–‡ä»¶ï¼Œæ‰¾åˆ°<code>.bundle</code>,<code>.framework</code>è¿™ä¸€çº§ä½œä¸ºä»˜ç›®å½•ï¼Œç›´æ¥å¯¼å‡º<code>.bundle</code>,<code>.framework</code>æ–‡ä»¶<br>å³ï¼š<br>å¦‚æœè·¯å¾„ä¸º<code>abc/def/g.bundle/xxx/xx</code>ï¼Œ<code>abc/def/g.bundle/xxx</code>åˆ™åªå¯¼å‡º<code>abc/def/g.bundle</code>æ–‡ä»¶ï¼Œ<code>.framework</code>æ–‡ä»¶&#96; åŒç†</li>
</ol>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¾…åŠ©å‡½æ•°ï¼šæå– .bundle å’Œ .frameworkæ–‡ä»¶çš„çˆ¶ç›®å½•è·¯å¾„</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">GetAssetDirectory</span>(<span class="params"><span class="built_in">string</span> path, <span class="built_in">string</span> extension</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> extensionIndex = path.IndexOf(extension);</span><br><span class="line">    <span class="keyword">if</span> (extensionIndex == <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Empty;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»è·¯å¾„ä¸­æå–å‡ºæ‰©å±•åå¯¹åº”çš„æ–‡ä»¶ç›®å½•</span></span><br><span class="line">    <span class="keyword">return</span> path.Substring(<span class="number">0</span>, extensionIndex + extension.Length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ£€æŸ¥è·¯å¾„ä¸­æ˜¯å¦åŒ…å« .bundle æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (strTempPath.Contains(<span class="string">&quot;.bundle&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æå– .bundle æ–‡ä»¶çš„çˆ¶ç›®å½•</span></span><br><span class="line">    <span class="built_in">string</span> bundleDirectory = GetAssetDirectory(strTempPath, <span class="string">&quot;.bundle&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰å·²ç»å¤„ç†è¿‡è¿™ä¸ª bundle ç›®å½•ï¼Œå°±è·³è¿‡</span></span><br><span class="line">    <span class="keyword">if</span> (processedBundles.Contains(bundleDirectory))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ‡è®°æ­¤ bundle ç›®å½•å·²ç»å¤„ç†è¿‡</span></span><br><span class="line">    processedBundles.Add(bundleDirectory);</span><br><span class="line">    <span class="comment">// åŠ è½½ .bundle æ–‡ä»¶å¹¶ç›´æ¥ä½œä¸ºä¸€ä¸ªèµ„æºæ·»åŠ </span></span><br><span class="line">    Object asset = AssetDatabase.LoadAssetAtPath(bundleDirectory, <span class="keyword">typeof</span>(Object));</span><br><span class="line">    <span class="keyword">if</span> (asset != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        objs.Add(asset); <span class="comment">// ç›´æ¥æ·»åŠ æ•´ä¸ª .bundle æ–‡ä»¶</span></span><br><span class="line">        Debug.Log(<span class="string">$&quot;Added .bundle file as asset: <span class="subst">&#123;bundleDirectory&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogWarning(<span class="string">$&quot;Failed to load .bundle asset: <span class="subst">&#123;bundleDirectory&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (strTempPath.Contains(<span class="string">&quot;.framework&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æå– .framework æ–‡ä»¶çš„ç›®å½•</span></span><br><span class="line">    <span class="built_in">string</span> frameworkDirectory = GetAssetDirectory(strTempPath, <span class="string">&quot;.framework&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰å·²ç»å¤„ç†è¿‡è¿™ä¸ª .framework ç›®å½•ï¼Œå°±è·³è¿‡</span></span><br><span class="line">    <span class="keyword">if</span> (processedBundles.Contains(frameworkDirectory))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ‡è®°æ­¤ .framework ç›®å½•å·²ç»å¤„ç†è¿‡</span></span><br><span class="line">    processedBundles.Add(frameworkDirectory);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½ .framework æ–‡ä»¶å¹¶ç›´æ¥ä½œä¸ºä¸€ä¸ªèµ„æºæ·»åŠ </span></span><br><span class="line">    Object asset = AssetDatabase.LoadAssetAtPath(frameworkDirectory, <span class="keyword">typeof</span>(Object));</span><br><span class="line">    <span class="keyword">if</span> (asset != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        objs.Add(asset); <span class="comment">// ç›´æ¥æ·»åŠ æ•´ä¸ª .framework æ–‡ä»¶</span></span><br><span class="line">        Debug.Log(<span class="string">$&quot;Added .framework file as asset: <span class="subst">&#123;frameworkDirectory&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogWarning(<span class="string">$&quot;Failed to load .framework asset: <span class="subst">&#123;frameworkDirectory&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h2><p>å¯¹äºä»¥è¿™ç§æ–¹å¼å¯¼å‡ºçš„unitypackageï¼Œæ˜¯å¦å’Œ unity ç¼–è¾‘å™¨æœ¬èº«çš„å¯¼å‡ºæ–¹å¼ä¸€è‡´ï¼Œéœ€è¦æµ‹è¯•</p>
<ol>
<li>ä½¿ç”¨è„šæœ¬å¯¼å‡ºæ–‡ä»¶å¤§å°å’Œä½¿ç”¨ unity ç¼–è¾‘å™¨çš„çª—å£å·¥å…·å¯¼å‡ºå¤§å°ä¸€è‡´<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mdimages/2025-01-07-18-00-58.png"
                      alt="2025-01-07-18-00-58.png"
                ></li>
<li>ä½¿ç”¨ç©ºå·¥ç¨‹å…ˆåå¯¼å…¥ä¸¤ä¸ª packageï¼Œä¸å­˜åœ¨æ–‡ä»¶ new å·®å¼‚<br>é‡åˆ°çš„é—®é¢˜æ˜¯å³ä½¿å¯¼å…¥å®Œå…¨ä¸€æ ·çš„ package ä¸¤æ¬¡ï¼Œ.png, .strings, .h, .plist, .nib è¿™äº›æ–‡ä»¶ä¼šè¢«å†æ¬¡æ ‡è®°ä¸º newï¼Œå³ä½¿æ˜¯ä½¿ç”¨ unity çš„ aeests export package å¯¼å‡ºçš„åŒ…ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºè„šæœ¬å¯¼å‡ºçš„åŒ…è¯¥è¡Œä¸ºä¸å­˜åœ¨é—®é¢˜</li>
<li>import å¯¼å…¥è„šæœ¬å¯¼å‡ºçš„é¡¹ç›®åæµ‹è¯•åŠŸèƒ½æ­£å¸¸</li>
</ol>
<h2 id="å…¶ä»–tips"><a href="#å…¶ä»–tips" class="headerlink" title="å…¶ä»–tips"></a>å…¶ä»–tips</h2><p>æœ¬æ¥æƒ³é€šè¿‡è§£å‹ unitypackage ç„¶åç»“åˆ beyond compare æ¥æ¯”è¾ƒä¸¤ä¸ªåŒ…ï¼Œä½†æ˜¯å‘ç°è§£å‹ä¹‹ååŒ…ä¸­çš„æ–‡ä»¶è¿‡å¤šï¼Œä»¥åŠä¸€äº›<code>.meta</code>æ–‡ä»¶å¯¼è‡´çš„å·®å¼‚æ— æ³•å¿½ç•¥ï¼Œæ‰€ä»¥æœ€æœ‰æ•ˆçš„æ–¹å¼è¿˜æ˜¯åˆ†åˆ« import çš„å½¢å¼è¿›è¡Œæ¯”è¾ƒã€‚</p>
<p>unitypackage è§£å‹å‘½ä»¤</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xvf abc.unitypackage -C temp</span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>unity3D</tag>
      </tags>
  </entry>
  <entry>
    <title>å®ç° github pages åœ¨ google æœç´¢çš„å¯è§</title>
    <url>/2025/01/07/%E5%AE%9E%E7%8E%B0-github-pages-%E5%9C%A8-google-%E6%90%9C%E7%B4%A2%E7%9A%84%E5%8F%AF%E8%A7%81/</url>
    <content><![CDATA[]]></content>
  </entry>
</search>
